{
  "version": 3,
  "sources": ["node-modules-polyfills:events", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/buffer-list.js", "node-modules-polyfills:string_decoder", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/readable.js", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/writable.js", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/duplex.js", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/transform.js", "../../../../../node_modules/rollup-plugin-node-polyfills/polyfills/readable-stream/passthrough.js", "node-modules-polyfills:stream", "node-modules-polyfills-commonjs:stream", "node-modules-polyfills-commonjs:string_decoder", "../../../../../node_modules/sax/lib/sax.js", "../../../../../node_modules/xml-js/lib/array-helper.js", "../../../../../node_modules/xml-js/lib/options-helper.js", "../../../../../node_modules/xml-js/lib/xml2js.js", "../../../../../node_modules/xml-js/lib/xml2json.js", "../../../../../node_modules/xml-js/lib/js2xml.js", "../../../../../node_modules/xml-js/lib/json2xml.js", "../../../../../node_modules/xml-js/lib/index.js", "../../../../../node_modules/myst-to-jats/dist/esm/index.js", "../../../../../node_modules/jats-xml/dist/esm/jats.js", "../../../../../node_modules/jats-xml/dist/esm/types/elementTags.js", "../../../../../node_modules/jats-xml/dist/esm/types/refType.js", "../../../../../node_modules/myst-to-jats/dist/esm/backmatter.js", "../../../../../node_modules/myst-to-jats/dist/esm/frontmatter.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/definitions.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/containers.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/tables.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/sections.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/citations.js", "../../../../../node_modules/myst-to-jats/dist/esm/transforms/index.js"],
  "sourcesContent": ["'use strict';\n\nvar domain;\n\n// This constructor is used to store event handlers. Instantiating this is\n// faster than explicitly calling `Object.create(null)` to get a \"clean\" empty\n// object (tested with v8 v4.9).\nfunction EventHandlers() {}\nEventHandlers.prototype = Object.create(null);\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nexport default EventEmitter;\nexport {EventEmitter};\n\n// nodejs oddity\n// require('events') === require('events').EventEmitter\nEventEmitter.EventEmitter = EventEmitter\n\nEventEmitter.usingDomains = false;\n\nEventEmitter.prototype.domain = undefined;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    if (domain.active && !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n\n  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = new EventHandlers();\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || isNaN(n))\n    throw new TypeError('\"n\" argument must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\n// These standalone emit* functions are used to optimize calling of event\n// handlers for fast cases because emit() itself often has a variable number of\n// arguments and can be deoptimized because of that. These functions always have\n// the same number of arguments and thus do not get deoptimized, so the code\n// inside them can execute faster.\nfunction emitNone(handler, isFn, self) {\n  if (isFn)\n    handler.call(self);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self);\n  }\n}\nfunction emitOne(handler, isFn, self, arg1) {\n  if (isFn)\n    handler.call(self, arg1);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1);\n  }\n}\nfunction emitTwo(handler, isFn, self, arg1, arg2) {\n  if (isFn)\n    handler.call(self, arg1, arg2);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2);\n  }\n}\nfunction emitThree(handler, isFn, self, arg1, arg2, arg3) {\n  if (isFn)\n    handler.call(self, arg1, arg2, arg3);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].call(self, arg1, arg2, arg3);\n  }\n}\n\nfunction emitMany(handler, isFn, self, args) {\n  if (isFn)\n    handler.apply(self, args);\n  else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      listeners[i].apply(self, args);\n  }\n}\n\nEventEmitter.prototype.emit = function emit(type) {\n  var er, handler, len, args, i, events, domain;\n  var needDomainExit = false;\n  var doError = (type === 'error');\n\n  events = this._events;\n  if (events)\n    doError = (doError && events.error == null);\n  else if (!doError)\n    return false;\n\n  domain = this.domain;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    er = arguments[1];\n    if (domain) {\n      if (!er)\n        er = new Error('Uncaught, unspecified \"error\" event');\n      er.domainEmitter = this;\n      er.domain = domain;\n      er.domainThrown = false;\n      domain.emit('error', er);\n    } else if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      // At least give some kind of context to the user\n      var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n      err.context = er;\n      throw err;\n    }\n    return false;\n  }\n\n  handler = events[type];\n\n  if (!handler)\n    return false;\n\n  var isFn = typeof handler === 'function';\n  len = arguments.length;\n  switch (len) {\n    // fast cases\n    case 1:\n      emitNone(handler, isFn, this);\n      break;\n    case 2:\n      emitOne(handler, isFn, this, arguments[1]);\n      break;\n    case 3:\n      emitTwo(handler, isFn, this, arguments[1], arguments[2]);\n      break;\n    case 4:\n      emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);\n      break;\n    // slower\n    default:\n      args = new Array(len - 1);\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i];\n      emitMany(handler, isFn, this, args);\n  }\n\n  if (needDomainExit)\n    domain.exit();\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n\n  events = target._events;\n  if (!events) {\n    events = target._events = new EventHandlers();\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (!existing) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] :\n                                          [existing, listener];\n    } else {\n      // If we've already got an array, just append.\n      if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      }\n    }\n\n    // Check for listener leak\n    if (!existing.warned) {\n      m = $getMaxListeners(target);\n      if (m && m > 0 && existing.length > m) {\n        existing.warned = true;\n        var w = new Error('Possible EventEmitter memory leak detected. ' +\n                            existing.length + ' ' + type + ' listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        emitWarning(w);\n      }\n    }\n  }\n\n  return target;\n}\nfunction emitWarning(e) {\n  typeof console.warn === 'function' ? console.warn(e) : console.log(e);\n}\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction _onceWrap(target, type, listener) {\n  var fired = false;\n  function g() {\n    target.removeListener(type, g);\n    if (!fired) {\n      fired = true;\n      listener.apply(target, arguments);\n    }\n  }\n  g.listener = listener;\n  return g;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function')\n    throw new TypeError('\"listener\" argument must be a function');\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function')\n        throw new TypeError('\"listener\" argument must be a function');\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      list = events[type];\n      if (!list)\n        return this;\n\n      if (list === listener || (list.listener && list.listener === listener)) {\n        if (--this._eventsCount === 0)\n          this._events = new EventHandlers();\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length; i-- > 0;) {\n          if (list[i] === listener ||\n              (list[i].listener && list[i].listener === listener)) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (list.length === 1) {\n          list[0] = undefined;\n          if (--this._eventsCount === 0) {\n            this._events = new EventHandlers();\n            return this;\n          } else {\n            delete events[type];\n          }\n        } else {\n          spliceOne(list, position);\n        }\n\n        if (events.removeListener)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events;\n\n      events = this._events;\n      if (!events)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (!events.removeListener) {\n        if (arguments.length === 0) {\n          this._events = new EventHandlers();\n          this._eventsCount = 0;\n        } else if (events[type]) {\n          if (--this._eventsCount === 0)\n            this._events = new EventHandlers();\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        for (var i = 0, key; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = new EventHandlers();\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners) {\n        // LIFO order\n        do {\n          this.removeListener(type, listeners[listeners.length - 1]);\n        } while (listeners[0]);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  var evlistener;\n  var ret;\n  var events = this._events;\n\n  if (!events)\n    ret = [];\n  else {\n    evlistener = events[type];\n    if (!evlistener)\n      ret = [];\n    else if (typeof evlistener === 'function')\n      ret = [evlistener.listener || evlistener];\n    else\n      ret = unwrapListeners(evlistener);\n  }\n\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];\n};\n\n// About 1.5x faster than the two-arg version of Array#splice().\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)\n    list[i] = list[k];\n  list.pop();\n}\n\nfunction arrayClone(arr, i) {\n  var copy = new Array(i);\n  while (i--)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n", "import {Buffer} from 'buffer';\n\nexport default BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return Buffer.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = Buffer.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nimport {Buffer} from 'buffer';\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nexport function StringDecoder(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n", "'use strict';\n\n\nReadable.ReadableState = ReadableState;\nimport EventEmitter from 'events';\nimport {inherits, debuglog} from 'util';\nimport BufferList from './buffer-list';\nimport {StringDecoder} from 'string_decoder';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\n\nvar debug = debuglog('stream');\ninherits(Readable, EventEmitter);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event])\n      emitter.on(event, fn);\n    else if (Array.isArray(emitter._events[event]))\n      emitter._events[event].unshift(fn);\n    else\n      emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\nfunction listenerCount (emitter, type) {\n  return emitter.listeners(type).length;\n}\nfunction ReadableState(options, stream) {\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nexport default Readable;\nexport function Readable(options) {\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  EventEmitter.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = Buffer.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false);\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (listenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && src.listeners('data').length) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var _i = 0; _i < len; _i++) {\n      dests[_i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1) return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = EventEmitter.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n", "// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n\nimport {inherits, deprecate} from 'util';\nimport {Buffer} from 'buffer';\nWritable.WritableState = WritableState;\nimport {EventEmitter} from 'events';\nimport {Duplex} from './duplex';\nimport {nextTick} from 'process';\ninherits(Writable, EventEmitter);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Object.defineProperty(this, 'buffer', {\n    get: deprecate(function () {\n      return this.getBuffer();\n    }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n  });\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function writableStateGetBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\nexport default Writable;\nexport function Writable(options) {\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex)) return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  EventEmitter.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  nextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) nextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n        nextTick(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n", "\nimport {inherits} from 'util';\nimport {nextTick} from 'process';\nimport {Readable} from './readable';\nimport {Writable} from './writable';\n\n\ninherits(Duplex, Readable);\n\nvar keys = Object.keys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\nexport default Duplex;\nexport function Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n", "// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n\nimport {Duplex} from './duplex';\n\n\nimport {inherits} from 'util';\ninherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\nexport default Transform;\nexport function Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er) {\n      done(stream, er);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('Not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er) {\n  if (er) return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n", "\nimport {Transform} from './transform';\n\nimport {inherits} from 'util';\ninherits(PassThrough, Transform);\nexport default PassThrough;\nexport function PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n", "import EE from 'events';\nimport {inherits} from 'util';\n\nimport {Duplex} from './readable-stream/duplex.js';\nimport {Readable} from './readable-stream/readable.js';\nimport {Writable} from './readable-stream/writable.js';\nimport {Transform} from './readable-stream/transform.js';\nimport {PassThrough} from './readable-stream/passthrough.js';\ninherits(Stream, EE);\nStream.Readable = Readable;\nStream.Writable = Writable;\nStream.Duplex = Duplex;\nStream.Transform = Transform;\nStream.PassThrough = PassThrough;\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\nexport default Stream;\nexport {Readable,Writable,Duplex,Transform,PassThrough,Stream}\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n", "\nconst polyfill = require('stream')\n\nif (polyfill && polyfill.default) {\n    module.exports = polyfill.default\n    for (let k in polyfill) {\n        module.exports[k] = polyfill[k]\n    }\n} else if (polyfill)  {\n    module.exports = polyfill\n}\n\n\n", "\nconst polyfill = require('string_decoder')\n\nif (polyfill && polyfill.default) {\n    module.exports = polyfill.default\n    for (let k in polyfill) {\n        module.exports[k] = polyfill[k]\n    }\n} else if (polyfill)  {\n    module.exports = polyfill\n}\n\n\n", ";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n", "module.exports = {\r\n\r\n  isArray: function(value) {\r\n    if (Array.isArray) {\r\n      return Array.isArray(value);\r\n    }\r\n    // fallback for older browsers like  IE 8\r\n    return Object.prototype.toString.call( value ) === '[object Array]';\r\n  }\r\n\r\n};\r\n", "var isArray = require('./array-helper').isArray;\r\n\r\nmodule.exports = {\r\n\r\n  copyOptions: function (options) {\r\n    var key, copy = {};\r\n    for (key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        copy[key] = options[key];\r\n      }\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  ensureFlagExists: function (item, options) {\r\n    if (!(item in options) || typeof options[item] !== 'boolean') {\r\n      options[item] = false;\r\n    }\r\n  },\r\n\r\n  ensureSpacesExists: function (options) {\r\n    if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\r\n      options.spaces = 0;\r\n    }\r\n  },\r\n\r\n  ensureAlwaysArrayExists: function (options) {\r\n    if (!('alwaysArray' in options) || (typeof options.alwaysArray !== 'boolean' && !isArray(options.alwaysArray))) {\r\n      options.alwaysArray = false;\r\n    }\r\n  },\r\n\r\n  ensureKeyExists: function (key, options) {\r\n    if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\r\n      options[key + 'Key'] = options.compact ? '_' + key : key;\r\n    }\r\n  },\r\n\r\n  checkFnExists: function (key, options) {\r\n    return key + 'Fn' in options;\r\n  }\r\n\r\n};\r\n", "var sax = require('sax');\r\nvar expat /*= require('node-expat');*/ = { on: function () { }, parse: function () { } };\r\nvar helper = require('./options-helper');\r\nvar isArray = require('./array-helper').isArray;\r\n\r\nvar options;\r\nvar pureJsParser = true;\r\nvar currentElement;\r\n\r\nfunction validateOptions(userOptions) {\r\n  options = helper.copyOptions(userOptions);\r\n  helper.ensureFlagExists('ignoreDeclaration', options);\r\n  helper.ensureFlagExists('ignoreInstruction', options);\r\n  helper.ensureFlagExists('ignoreAttributes', options);\r\n  helper.ensureFlagExists('ignoreText', options);\r\n  helper.ensureFlagExists('ignoreComment', options);\r\n  helper.ensureFlagExists('ignoreCdata', options);\r\n  helper.ensureFlagExists('ignoreDoctype', options);\r\n  helper.ensureFlagExists('compact', options);\r\n  helper.ensureFlagExists('alwaysChildren', options);\r\n  helper.ensureFlagExists('addParent', options);\r\n  helper.ensureFlagExists('trim', options);\r\n  helper.ensureFlagExists('nativeType', options);\r\n  helper.ensureFlagExists('nativeTypeAttributes', options);\r\n  helper.ensureFlagExists('sanitize', options);\r\n  helper.ensureFlagExists('instructionHasAttributes', options);\r\n  helper.ensureFlagExists('captureSpacesBetweenElements', options);\r\n  helper.ensureAlwaysArrayExists(options);\r\n  helper.ensureKeyExists('declaration', options);\r\n  helper.ensureKeyExists('instruction', options);\r\n  helper.ensureKeyExists('attributes', options);\r\n  helper.ensureKeyExists('text', options);\r\n  helper.ensureKeyExists('comment', options);\r\n  helper.ensureKeyExists('cdata', options);\r\n  helper.ensureKeyExists('doctype', options);\r\n  helper.ensureKeyExists('type', options);\r\n  helper.ensureKeyExists('name', options);\r\n  helper.ensureKeyExists('elements', options);\r\n  helper.ensureKeyExists('parent', options);\r\n  helper.checkFnExists('doctype', options);\r\n  helper.checkFnExists('instruction', options);\r\n  helper.checkFnExists('cdata', options);\r\n  helper.checkFnExists('comment', options);\r\n  helper.checkFnExists('text', options);\r\n  helper.checkFnExists('instructionName', options);\r\n  helper.checkFnExists('elementName', options);\r\n  helper.checkFnExists('attributeName', options);\r\n  helper.checkFnExists('attributeValue', options);\r\n  helper.checkFnExists('attributes', options);\r\n  return options;\r\n}\r\n\r\nfunction nativeType(value) {\r\n  var nValue = Number(value);\r\n  if (!isNaN(nValue)) {\r\n    return nValue;\r\n  }\r\n  var bValue = value.toLowerCase();\r\n  if (bValue === 'true') {\r\n    return true;\r\n  } else if (bValue === 'false') {\r\n    return false;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction addField(type, value) {\r\n  var key;\r\n  if (options.compact) {\r\n    if (\r\n      !currentElement[options[type + 'Key']] &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(options[type + 'Key']) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[options[type + 'Key']] = [];\r\n    }\r\n    if (currentElement[options[type + 'Key']] && !isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']] = [currentElement[options[type + 'Key']]];\r\n    }\r\n    if (type + 'Fn' in options && typeof value === 'string') {\r\n      value = options[type + 'Fn'](value, currentElement);\r\n    }\r\n    if (type === 'instruction' && ('instructionFn' in options || 'instructionNameFn' in options)) {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          if ('instructionFn' in options) {\r\n            value[key] = options.instructionFn(value[key], key, currentElement);\r\n          } else {\r\n            var temp = value[key];\r\n            delete value[key];\r\n            value[options.instructionNameFn(key, temp, currentElement)] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']].push(value);\r\n    } else {\r\n      currentElement[options[type + 'Key']] = value;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    var element = {};\r\n    element[options.typeKey] = type;\r\n    if (type === 'instruction') {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          break;\r\n        }\r\n      }\r\n      element[options.nameKey] = 'instructionNameFn' in options ? options.instructionNameFn(key, value, currentElement) : key;\r\n      if (options.instructionHasAttributes) {\r\n        element[options.attributesKey] = value[key][options.attributesKey];\r\n        if ('instructionFn' in options) {\r\n          element[options.attributesKey] = options.instructionFn(element[options.attributesKey], key, currentElement);\r\n        }\r\n      } else {\r\n        if ('instructionFn' in options) {\r\n          value[key] = options.instructionFn(value[key], key, currentElement);\r\n        }\r\n        element[options.instructionKey] = value[key];\r\n      }\r\n    } else {\r\n      if (type + 'Fn' in options) {\r\n        value = options[type + 'Fn'](value, currentElement);\r\n      }\r\n      element[options[type + 'Key']] = value;\r\n    }\r\n    if (options.addParent) {\r\n      element[options.parentKey] = currentElement;\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n}\r\n\r\nfunction manipulateAttributes(attributes) {\r\n  if ('attributesFn' in options && attributes) {\r\n    attributes = options.attributesFn(attributes, currentElement);\r\n  }\r\n  if ((options.trim || 'attributeValueFn' in options || 'attributeNameFn' in options || options.nativeTypeAttributes) && attributes) {\r\n    var key;\r\n    for (key in attributes) {\r\n      if (attributes.hasOwnProperty(key)) {\r\n        if (options.trim) attributes[key] = attributes[key].trim();\r\n        if (options.nativeTypeAttributes) {\r\n          attributes[key] = nativeType(attributes[key]);\r\n        }\r\n        if ('attributeValueFn' in options) attributes[key] = options.attributeValueFn(attributes[key], key, currentElement);\r\n        if ('attributeNameFn' in options) {\r\n          var temp = attributes[key];\r\n          delete attributes[key];\r\n          attributes[options.attributeNameFn(key, attributes[key], currentElement)] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return attributes;\r\n}\r\n\r\nfunction onInstruction(instruction) {\r\n  var attributes = {};\r\n  if (instruction.body && (instruction.name.toLowerCase() === 'xml' || options.instructionHasAttributes)) {\r\n    var attrsRegExp = /([\\w:-]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|(\\w+))\\s*/g;\r\n    var match;\r\n    while ((match = attrsRegExp.exec(instruction.body)) !== null) {\r\n      attributes[match[1]] = match[2] || match[3] || match[4];\r\n    }\r\n    attributes = manipulateAttributes(attributes);\r\n  }\r\n  if (instruction.name.toLowerCase() === 'xml') {\r\n    if (options.ignoreDeclaration) {\r\n      return;\r\n    }\r\n    currentElement[options.declarationKey] = {};\r\n    if (Object.keys(attributes).length) {\r\n      currentElement[options.declarationKey][options.attributesKey] = attributes;\r\n    }\r\n    if (options.addParent) {\r\n      currentElement[options.declarationKey][options.parentKey] = currentElement;\r\n    }\r\n  } else {\r\n    if (options.ignoreInstruction) {\r\n      return;\r\n    }\r\n    if (options.trim) {\r\n      instruction.body = instruction.body.trim();\r\n    }\r\n    var value = {};\r\n    if (options.instructionHasAttributes && Object.keys(attributes).length) {\r\n      value[instruction.name] = {};\r\n      value[instruction.name][options.attributesKey] = attributes;\r\n    } else {\r\n      value[instruction.name] = instruction.body;\r\n    }\r\n    addField('instruction', value);\r\n  }\r\n}\r\n\r\nfunction onStartElement(name, attributes) {\r\n  var element;\r\n  if (typeof name === 'object') {\r\n    attributes = name.attributes;\r\n    name = name.name;\r\n  }\r\n  attributes = manipulateAttributes(attributes);\r\n  if ('elementNameFn' in options) {\r\n    name = options.elementNameFn(name, currentElement);\r\n  }\r\n  if (options.compact) {\r\n    element = {};\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = {};\r\n      var key;\r\n      for (key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n          element[options.attributesKey][key] = attributes[key];\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      !(name in currentElement) &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(name) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[name] = [];\r\n    }\r\n    if (currentElement[name] && !isArray(currentElement[name])) {\r\n      currentElement[name] = [currentElement[name]];\r\n    }\r\n    if (isArray(currentElement[name])) {\r\n      currentElement[name].push(element);\r\n    } else {\r\n      currentElement[name] = element;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    element = {};\r\n    element[options.typeKey] = 'element';\r\n    element[options.nameKey] = name;\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = attributes;\r\n    }\r\n    if (options.alwaysChildren) {\r\n      element[options.elementsKey] = [];\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n  element[options.parentKey] = currentElement; // will be deleted in onEndElement() if !options.addParent\r\n  currentElement = element;\r\n}\r\n\r\nfunction onText(text) {\r\n  if (options.ignoreText) {\r\n    return;\r\n  }\r\n  if (!text.trim() && !options.captureSpacesBetweenElements) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    text = text.trim();\r\n  }\r\n  if (options.nativeType) {\r\n    text = nativeType(text);\r\n  }\r\n  if (options.sanitize) {\r\n    text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  }\r\n  addField('text', text);\r\n}\r\n\r\nfunction onComment(comment) {\r\n  if (options.ignoreComment) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    comment = comment.trim();\r\n  }\r\n  addField('comment', comment);\r\n}\r\n\r\nfunction onEndElement(name) {\r\n  var parentElement = currentElement[options.parentKey];\r\n  if (!options.addParent) {\r\n    delete currentElement[options.parentKey];\r\n  }\r\n  currentElement = parentElement;\r\n}\r\n\r\nfunction onCdata(cdata) {\r\n  if (options.ignoreCdata) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    cdata = cdata.trim();\r\n  }\r\n  addField('cdata', cdata);\r\n}\r\n\r\nfunction onDoctype(doctype) {\r\n  if (options.ignoreDoctype) {\r\n    return;\r\n  }\r\n  doctype = doctype.replace(/^ /, '');\r\n  if (options.trim) {\r\n    doctype = doctype.trim();\r\n  }\r\n  addField('doctype', doctype);\r\n}\r\n\r\nfunction onError(error) {\r\n  error.note = error; //console.error(error);\r\n}\r\n\r\nmodule.exports = function (xml, userOptions) {\r\n\r\n  var parser = pureJsParser ? sax.parser(true, {}) : parser = new expat.Parser('UTF-8');\r\n  var result = {};\r\n  currentElement = result;\r\n\r\n  options = validateOptions(userOptions);\r\n\r\n  if (pureJsParser) {\r\n    parser.opt = {strictEntities: true};\r\n    parser.onopentag = onStartElement;\r\n    parser.ontext = onText;\r\n    parser.oncomment = onComment;\r\n    parser.onclosetag = onEndElement;\r\n    parser.onerror = onError;\r\n    parser.oncdata = onCdata;\r\n    parser.ondoctype = onDoctype;\r\n    parser.onprocessinginstruction = onInstruction;\r\n  } else {\r\n    parser.on('startElement', onStartElement);\r\n    parser.on('text', onText);\r\n    parser.on('comment', onComment);\r\n    parser.on('endElement', onEndElement);\r\n    parser.on('error', onError);\r\n    //parser.on('startCdata', onStartCdata);\r\n    //parser.on('endCdata', onEndCdata);\r\n    //parser.on('entityDecl', onEntityDecl);\r\n  }\r\n\r\n  if (pureJsParser) {\r\n    parser.write(xml).close();\r\n  } else {\r\n    if (!parser.parse(xml)) {\r\n      throw new Error('XML parsing error: ' + parser.getError());\r\n    }\r\n  }\r\n\r\n  if (result[options.elementsKey]) {\r\n    var temp = result[options.elementsKey];\r\n    delete result[options.elementsKey];\r\n    result[options.elementsKey] = temp;\r\n    delete result.text;\r\n  }\r\n\r\n  return result;\r\n\r\n};\r\n", "var helper = require('./options-helper');\r\nvar xml2js = require('./xml2js');\r\n\r\nfunction validateOptions (userOptions) {\r\n  var options = helper.copyOptions(userOptions);\r\n  helper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nmodule.exports = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\r\n", "var helper = require('./options-helper');\nvar isArray = require('./array-helper').isArray;\n\nvar currentElement, currentElementName;\n\nfunction validateOptions(userOptions) {\n  var options = helper.copyOptions(userOptions);\n  helper.ensureFlagExists('ignoreDeclaration', options);\n  helper.ensureFlagExists('ignoreInstruction', options);\n  helper.ensureFlagExists('ignoreAttributes', options);\n  helper.ensureFlagExists('ignoreText', options);\n  helper.ensureFlagExists('ignoreComment', options);\n  helper.ensureFlagExists('ignoreCdata', options);\n  helper.ensureFlagExists('ignoreDoctype', options);\n  helper.ensureFlagExists('compact', options);\n  helper.ensureFlagExists('indentText', options);\n  helper.ensureFlagExists('indentCdata', options);\n  helper.ensureFlagExists('indentAttributes', options);\n  helper.ensureFlagExists('indentInstruction', options);\n  helper.ensureFlagExists('fullTagEmptyElement', options);\n  helper.ensureFlagExists('noQuotesForNativeAttributes', options);\n  helper.ensureSpacesExists(options);\n  if (typeof options.spaces === 'number') {\n    options.spaces = Array(options.spaces + 1).join(' ');\n  }\n  helper.ensureKeyExists('declaration', options);\n  helper.ensureKeyExists('instruction', options);\n  helper.ensureKeyExists('attributes', options);\n  helper.ensureKeyExists('text', options);\n  helper.ensureKeyExists('comment', options);\n  helper.ensureKeyExists('cdata', options);\n  helper.ensureKeyExists('doctype', options);\n  helper.ensureKeyExists('type', options);\n  helper.ensureKeyExists('name', options);\n  helper.ensureKeyExists('elements', options);\n  helper.checkFnExists('doctype', options);\n  helper.checkFnExists('instruction', options);\n  helper.checkFnExists('cdata', options);\n  helper.checkFnExists('comment', options);\n  helper.checkFnExists('text', options);\n  helper.checkFnExists('instructionName', options);\n  helper.checkFnExists('elementName', options);\n  helper.checkFnExists('attributeName', options);\n  helper.checkFnExists('attributeValue', options);\n  helper.checkFnExists('attributes', options);\n  helper.checkFnExists('fullTagEmptyElement', options);\n  return options;\n}\n\nfunction writeIndentation(options, depth, firstLine) {\n  return (!firstLine && options.spaces ? '\\n' : '') + Array(depth + 1).join(options.spaces);\n}\n\nfunction writeAttributes(attributes, options, depth) {\n  if (options.ignoreAttributes) {\n    return '';\n  }\n  if ('attributesFn' in options) {\n    attributes = options.attributesFn(attributes, currentElementName, currentElement);\n  }\n  var key, attr, attrName, quote, result = [];\n  for (key in attributes) {\n    if (attributes.hasOwnProperty(key) && attributes[key] !== null && attributes[key] !== undefined) {\n      quote = options.noQuotesForNativeAttributes && typeof attributes[key] !== 'string' ? '' : '\"';\n      attr = '' + attributes[key]; // ensure number and boolean are converted to String\n      attr = attr.replace(/\"/g, '&quot;');\n      attrName = 'attributeNameFn' in options ? options.attributeNameFn(key, attr, currentElementName, currentElement) : key;\n      result.push((options.spaces && options.indentAttributes? writeIndentation(options, depth+1, false) : ' '));\n      result.push(attrName + '=' + quote + ('attributeValueFn' in options ? options.attributeValueFn(attr, key, currentElementName, currentElement) : attr) + quote);\n    }\n  }\n  if (attributes && Object.keys(attributes).length && options.spaces && options.indentAttributes) {\n    result.push(writeIndentation(options, depth, false));\n  }\n  return result.join('');\n}\n\nfunction writeDeclaration(declaration, options, depth) {\n  currentElement = declaration;\n  currentElementName = 'xml';\n  return options.ignoreDeclaration ? '' :  '<?' + 'xml' + writeAttributes(declaration[options.attributesKey], options, depth) + '?>';\n}\n\nfunction writeInstruction(instruction, options, depth) {\n  if (options.ignoreInstruction) {\n    return '';\n  }\n  var key;\n  for (key in instruction) {\n    if (instruction.hasOwnProperty(key)) {\n      break;\n    }\n  }\n  var instructionName = 'instructionNameFn' in options ? options.instructionNameFn(key, instruction[key], currentElementName, currentElement) : key;\n  if (typeof instruction[key] === 'object') {\n    currentElement = instruction;\n    currentElementName = instructionName;\n    return '<?' + instructionName + writeAttributes(instruction[key][options.attributesKey], options, depth) + '?>';\n  } else {\n    var instructionValue = instruction[key] ? instruction[key] : '';\n    if ('instructionFn' in options) instructionValue = options.instructionFn(instructionValue, key, currentElementName, currentElement);\n    return '<?' + instructionName + (instructionValue ? ' ' + instructionValue : '') + '?>';\n  }\n}\n\nfunction writeComment(comment, options) {\n  return options.ignoreComment ? '' : '<!--' + ('commentFn' in options ? options.commentFn(comment, currentElementName, currentElement) : comment) + '-->';\n}\n\nfunction writeCdata(cdata, options) {\n  return options.ignoreCdata ? '' : '<![CDATA[' + ('cdataFn' in options ? options.cdataFn(cdata, currentElementName, currentElement) : cdata.replace(']]>', ']]]]><![CDATA[>')) + ']]>';\n}\n\nfunction writeDoctype(doctype, options) {\n  return options.ignoreDoctype ? '' : '<!DOCTYPE ' + ('doctypeFn' in options ? options.doctypeFn(doctype, currentElementName, currentElement) : doctype) + '>';\n}\n\nfunction writeText(text, options) {\n  if (options.ignoreText) return '';\n  text = '' + text; // ensure Number and Boolean are converted to String\n  text = text.replace(/&amp;/g, '&'); // desanitize to avoid double sanitization\n  text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return 'textFn' in options ? options.textFn(text, currentElementName, currentElement) : text;\n}\n\nfunction hasContent(element, options) {\n  var i;\n  if (element.elements && element.elements.length) {\n    for (i = 0; i < element.elements.length; ++i) {\n      switch (element.elements[i][options.typeKey]) {\n      case 'text':\n        if (options.indentText) {\n          return true;\n        }\n        break; // skip to next key\n      case 'cdata':\n        if (options.indentCdata) {\n          return true;\n        }\n        break; // skip to next key\n      case 'instruction':\n        if (options.indentInstruction) {\n          return true;\n        }\n        break; // skip to next key\n      case 'doctype':\n      case 'comment':\n      case 'element':\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElement(element, options, depth) {\n  currentElement = element;\n  currentElementName = element.name;\n  var xml = [], elementName = 'elementNameFn' in options ? options.elementNameFn(element.name, element) : element.name;\n  xml.push('<' + elementName);\n  if (element[options.attributesKey]) {\n    xml.push(writeAttributes(element[options.attributesKey], options, depth));\n  }\n  var withClosingTag = element[options.elementsKey] && element[options.elementsKey].length || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n  if (!withClosingTag) {\n    if ('fullTagEmptyElementFn' in options) {\n      withClosingTag = options.fullTagEmptyElementFn(element.name, element);\n    } else {\n      withClosingTag = options.fullTagEmptyElement;\n    }\n  }\n  if (withClosingTag) {\n    xml.push('>');\n    if (element[options.elementsKey] && element[options.elementsKey].length) {\n      xml.push(writeElements(element[options.elementsKey], options, depth + 1));\n      currentElement = element;\n      currentElementName = element.name;\n    }\n    xml.push(options.spaces && hasContent(element, options) ? '\\n' + Array(depth + 1).join(options.spaces) : '');\n    xml.push('</' + elementName + '>');\n  } else {\n    xml.push('/>');\n  }\n  return xml.join('');\n}\n\nfunction writeElements(elements, options, depth, firstLine) {\n  return elements.reduce(function (xml, element) {\n    var indent = writeIndentation(options, depth, firstLine && !xml);\n    switch (element.type) {\n    case 'element': return xml + indent + writeElement(element, options, depth);\n    case 'comment': return xml + indent + writeComment(element[options.commentKey], options);\n    case 'doctype': return xml + indent + writeDoctype(element[options.doctypeKey], options);\n    case 'cdata': return xml + (options.indentCdata ? indent : '') + writeCdata(element[options.cdataKey], options);\n    case 'text': return xml + (options.indentText ? indent : '') + writeText(element[options.textKey], options);\n    case 'instruction':\n      var instruction = {};\n      instruction[element[options.nameKey]] = element[options.attributesKey] ? element : element[options.instructionKey];\n      return xml + (options.indentInstruction ? indent : '') + writeInstruction(instruction, options, depth);\n    }\n  }, '');\n}\n\nfunction hasContentCompact(element, options, anyContent) {\n  var key;\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      switch (key) {\n      case options.parentKey:\n      case options.attributesKey:\n        break; // skip to next key\n      case options.textKey:\n        if (options.indentText || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.cdataKey:\n        if (options.indentCdata || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.instructionKey:\n        if (options.indentInstruction || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.doctypeKey:\n      case options.commentKey:\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElementCompact(element, name, options, depth, indent) {\n  currentElement = element;\n  currentElementName = name;\n  var elementName = 'elementNameFn' in options ? options.elementNameFn(name, element) : name;\n  if (typeof element === 'undefined' || element === null || element === '') {\n    return 'fullTagEmptyElementFn' in options && options.fullTagEmptyElementFn(name, element) || options.fullTagEmptyElement ? '<' + elementName + '></' + elementName + '>' : '<' + elementName + '/>';\n  }\n  var xml = [];\n  if (name) {\n    xml.push('<' + elementName);\n    if (typeof element !== 'object') {\n      xml.push('>' + writeText(element,options) + '</' + elementName + '>');\n      return xml.join('');\n    }\n    if (element[options.attributesKey]) {\n      xml.push(writeAttributes(element[options.attributesKey], options, depth));\n    }\n    var withClosingTag = hasContentCompact(element, options, true) || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n    if (!withClosingTag) {\n      if ('fullTagEmptyElementFn' in options) {\n        withClosingTag = options.fullTagEmptyElementFn(name, element);\n      } else {\n        withClosingTag = options.fullTagEmptyElement;\n      }\n    }\n    if (withClosingTag) {\n      xml.push('>');\n    } else {\n      xml.push('/>');\n      return xml.join('');\n    }\n  }\n  xml.push(writeElementsCompact(element, options, depth + 1, false));\n  currentElement = element;\n  currentElementName = name;\n  if (name) {\n    xml.push((indent ? writeIndentation(options, depth, false) : '') + '</' + elementName + '>');\n  }\n  return xml.join('');\n}\n\nfunction writeElementsCompact(element, options, depth, firstLine) {\n  var i, key, nodes, xml = [];\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      nodes = isArray(element[key]) ? element[key] : [element[key]];\n      for (i = 0; i < nodes.length; ++i) {\n        switch (key) {\n        case options.declarationKey: xml.push(writeDeclaration(nodes[i], options, depth)); break;\n        case options.instructionKey: xml.push((options.indentInstruction ? writeIndentation(options, depth, firstLine) : '') + writeInstruction(nodes[i], options, depth)); break;\n        case options.attributesKey: case options.parentKey: break; // skip\n        case options.textKey: xml.push((options.indentText ? writeIndentation(options, depth, firstLine) : '') + writeText(nodes[i], options)); break;\n        case options.cdataKey: xml.push((options.indentCdata ? writeIndentation(options, depth, firstLine) : '') + writeCdata(nodes[i], options)); break;\n        case options.doctypeKey: xml.push(writeIndentation(options, depth, firstLine) + writeDoctype(nodes[i], options)); break;\n        case options.commentKey: xml.push(writeIndentation(options, depth, firstLine) + writeComment(nodes[i], options)); break;\n        default: xml.push(writeIndentation(options, depth, firstLine) + writeElementCompact(nodes[i], key, options, depth, hasContentCompact(nodes[i], options)));\n        }\n        firstLine = firstLine && !xml.length;\n      }\n    }\n  }\n  return xml.join('');\n}\n\nmodule.exports = function (js, options) {\n  options = validateOptions(options);\n  var xml = [];\n  currentElement = js;\n  currentElementName = '_root_';\n  if (options.compact) {\n    xml.push(writeElementsCompact(js, options, 0, true));\n  } else {\n    if (js[options.declarationKey]) {\n      xml.push(writeDeclaration(js[options.declarationKey], options, 0));\n    }\n    if (js[options.elementsKey] && js[options.elementsKey].length) {\n      xml.push(writeElements(js[options.elementsKey], options, 0, !xml.length));\n    }\n  }\n  return xml.join('');\n};\n", "var js2xml = require('./js2xml.js');\r\n\r\nmodule.exports = function (json, options) {\r\n  if (json instanceof Buffer) {\r\n    json = json.toString();\r\n  }\r\n  var js = null;\r\n  if (typeof (json) === 'string') {\r\n    try {\r\n      js = JSON.parse(json);\r\n    } catch (e) {\r\n      throw new Error('The JSON structure is invalid');\r\n    }\r\n  } else {\r\n    js = json;\r\n  }\r\n  return js2xml(js, options);\r\n};\r\n", "/*jslint node:true */\r\n\r\nvar xml2js = require('./xml2js');\r\nvar xml2json = require('./xml2json');\r\nvar js2xml = require('./js2xml');\r\nvar json2xml = require('./json2xml');\r\n\r\nmodule.exports = {\r\n  xml2js: xml2js,\r\n  xml2json: xml2json,\r\n  js2xml: js2xml,\r\n  json2xml: json2xml\r\n};\r\n", "import { js2xml } from 'xml-js';\nimport { copyNode, fileError } from 'myst-common';\nimport { Tags, RefType } from 'jats-xml';\nimport { getBack } from './backmatter';\nimport { getFront } from './frontmatter';\nimport { basicTransformations } from './transforms';\nfunction referenceKindToRefType(kind) {\n    switch (kind) {\n        case 'heading':\n            return RefType.sec;\n        case 'figure':\n            return RefType.fig;\n        case 'equation':\n            return RefType.dispFormula;\n        case 'table':\n            return RefType.table;\n        default:\n            return RefType.custom;\n    }\n}\nfunction renderLabel(node, state, template = (s) => s) {\n    const { enumerated, enumerator } = node;\n    if (enumerated !== false && enumerator) {\n        state.openNode('label');\n        state.text(template(enumerator));\n        state.closeNode();\n    }\n}\nconst handlers = {\n    text(node, state) {\n        state.text(node.value);\n    },\n    paragraph(node, state) {\n        state.renderInline(node, 'p');\n    },\n    section(node, state) {\n        state.renderInline(node, 'sec');\n    },\n    heading(node, state) {\n        renderLabel(node, state);\n        state.renderInline(node, 'title');\n    },\n    block(node, state) {\n        state.renderChildren(node);\n    },\n    blockquote(node, state) {\n        state.renderInline(node, 'disp-quote');\n    },\n    definitionList(node, state) {\n        state.renderInline(node, 'def-list');\n    },\n    definitionItem(node, state) {\n        state.renderInline(node, 'def-item');\n    },\n    definitionTerm(node, state) {\n        state.renderInline(node, 'term');\n    },\n    definitionDescription(node, state) {\n        state.renderInline(node, 'def');\n    },\n    code(node, state) {\n        const { lang } = node;\n        state.renderInline(node, 'code', { language: lang });\n    },\n    list(node, state) {\n        // https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/list.html\n        state.renderInline(node, 'list', { 'list-type': node.ordered ? 'ordered' : 'bullet' });\n    },\n    listItem(node, state) {\n        state.renderInline(node, 'list-item');\n    },\n    thematicBreak() {\n        // The use of thematic breaks should be restricted to use inside table cells.\n        // https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/hr.html\n    },\n    inlineMath(node, state) {\n        state.openNode('inline-formula');\n        state.openNode('tex-math');\n        state.addLeaf('cdata', { cdata: node.value });\n        state.closeNode();\n        state.closeNode();\n    },\n    math(node, state) {\n        state.openNode('disp-formula', { id: node.identifier });\n        renderLabel(node, state, (enumerator) => `(${enumerator})`);\n        state.openNode('tex-math');\n        state.addLeaf('cdata', { cdata: node.value });\n        state.closeNode();\n        state.closeNode();\n    },\n    mystRole(node, state) {\n        state.renderChildren(node);\n    },\n    mystDirective(node, state) {\n        state.renderChildren(node);\n    },\n    mystComment() {\n        // Do not archive comments\n    },\n    comment() {\n        // Do not archive comments\n    },\n    strong(node, state) {\n        // TODO: potentially add `{ role: 'strong' }`?\n        state.renderInline(node, 'bold');\n    },\n    emphasis(node, state) {\n        state.renderInline(node, 'italic');\n    },\n    underline(node, state) {\n        state.renderInline(node, 'underline');\n    },\n    inlineCode(node, state) {\n        state.renderInline(node, 'monospace');\n    },\n    subscript(node, state) {\n        state.renderInline(node, 'sub');\n    },\n    superscript(node, state) {\n        state.renderInline(node, 'sup');\n    },\n    delete(node, state) {\n        state.renderInline(node, 'strike');\n    },\n    smallcaps(node, state) {\n        state.renderInline(node, 'sc');\n    },\n    break(node, state, parent) {\n        if (parent.type === 'paragraph') {\n            state.warn('There are no breaks allowed in paragraphs.', node, 'break', {\n                url: 'https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/break.html',\n            });\n            return;\n        }\n        // https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/break.html\n        state.addLeaf('break');\n    },\n    // abbreviation(node, state) {\n    //   // TODO: \\newacronym{gcd}{GCD}{Greatest Common Divisor}\n    //   // https://www.overleaf.com/learn/latex/glossaries\n    //   state.renderChildren(node, true);\n    // },\n    link(node, state) {\n        state.renderInline(node, 'ext-link', { 'ext-link-type': 'uri', 'xlink:href': node.url });\n    },\n    admonition(node, state) {\n        // This is `boxed-text`, the content-type is used to differentiate it\n        // https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/boxed-text.html\n        state.renderInline(node, 'boxed-text', { 'content-type': node.kind });\n    },\n    admonitionTitle(node, state) {\n        state.openNode('caption');\n        state.renderInline(node, 'title');\n        state.closeNode();\n    },\n    attrib(node, state) {\n        // This is used inside of disp-quotes\n        state.renderInline(node, 'attrib');\n    },\n    table(node, state) {\n        state.renderInline(node, 'table');\n    },\n    tableHead(node, state) {\n        state.renderInline(node, 'thead');\n    },\n    tableBody(node, state) {\n        state.renderInline(node, 'tbody');\n    },\n    tableFooter(node, state) {\n        state.renderInline(node, 'tfoot');\n    },\n    tableRow(node, state) {\n        state.renderInline(node, 'tr');\n    },\n    tableCell(node, state) {\n        const { align, colspan, rowspan } = node;\n        state.renderInline(node, node.header ? 'th' : 'td', {\n            align,\n            colspan: colspan ? String(colspan) : undefined,\n            rowspan: rowspan ? String(rowspan) : undefined,\n        });\n    },\n    image(node, state) {\n        var _a;\n        if ((_a = node.url) === null || _a === void 0 ? void 0 : _a.startsWith('http')) {\n            state.warn(`Image URL is remote (${node.url})`, node, 'image');\n        }\n        if (state.data.isInContainer && node.alt) {\n            state.openNode('alt-text');\n            state.text(node.alt);\n            state.closeNode();\n        }\n        // TOOD: identifier?\n        state.addLeaf('graphic', { 'xlink:href': node.url });\n    },\n    container(node, state) {\n        state.data.isInContainer = true;\n        switch (node.kind) {\n            case 'figure': {\n                state.renderInline(node, 'fig');\n                break;\n            }\n            case 'table': {\n                state.renderInline(node, 'table-wrap');\n                break;\n            }\n            case 'quote': {\n                // This is transformed in containers.ts\n                state.renderChildren(node);\n                break;\n            }\n            case 'code': {\n                // This is transformed in containers.ts\n                state.renderInline(node, 'boxed-text', { 'content-type': node.kind });\n                break;\n            }\n            default: {\n                state.error(`Unhandled container kind of ${node.kind}`, node, 'container');\n                state.renderChildren(node);\n            }\n        }\n        delete state.data.isInContainer;\n    },\n    caption(node, state) {\n        state.renderInline(node, 'caption');\n    },\n    captionNumber(node, state) {\n        state.renderInline(node, 'label');\n    },\n    crossReference(node, state) {\n        // Look up reference and add the text\n        const { identifier, kind } = node;\n        const attrs = { 'ref-type': referenceKindToRefType(kind), rid: identifier };\n        if (attrs['ref-type'] === RefType.custom && kind) {\n            attrs['custom-type'] = kind;\n        }\n        state.renderInline(node, 'xref', attrs);\n    },\n    citeGroup(node, state) {\n        state.renderChildren(node);\n    },\n    cite(node, state) {\n        const { label } = node;\n        const attrs = { 'ref-type': 'bibr', rid: label };\n        state.renderInline(node, 'xref', attrs);\n    },\n    footnoteReference(node, state) {\n        const { identifier } = node;\n        const attrs = { 'ref-type': 'fn', rid: identifier };\n        state.addLeaf('xref', attrs);\n    },\n    footnoteDefinition(node, state) {\n        state.openNode('fn', { id: node.identifier });\n        state.openNode('label');\n        state.text(node.label);\n        state.closeNode();\n        state.renderChildren(node);\n        const element = state.stack.pop();\n        if (element)\n            state.footnotes.push(element);\n    },\n};\nfunction createText(text) {\n    return { type: 'text', text };\n}\nclass JatsSerializer {\n    constructor(file, tree, opts) {\n        var _a;\n        this.file = file;\n        this.options = opts !== null && opts !== void 0 ? opts : {};\n        this.data = {};\n        this.stack = [{ type: 'element', elements: [] }];\n        this.footnotes = [];\n        this.handlers = (_a = opts === null || opts === void 0 ? void 0 : opts.handlers) !== null && _a !== void 0 ? _a : handlers;\n        this.renderChildren(tree);\n        while (this.stack.length > 1)\n            this.closeNode();\n    }\n    top() {\n        return this.stack[this.stack.length - 1];\n    }\n    warn(message, node, source, opts) {\n        fileError(this.file, message, Object.assign(Object.assign({}, opts), { node, source: source ? `myst-to-jats:${source}` : 'myst-to-jats' }));\n    }\n    error(message, node, source, opts) {\n        fileError(this.file, message, Object.assign(Object.assign({}, opts), { node, source: source ? `myst-to-jats:${source}` : 'myst-to-jats' }));\n    }\n    pushNode(el) {\n        var _a;\n        const top = this.top();\n        if (this.stack.length && el && 'elements' in top)\n            (_a = top.elements) === null || _a === void 0 ? void 0 : _a.push(el);\n        return el;\n    }\n    text(text) {\n        var _a, _b;\n        const top = this.top();\n        const value = text;\n        if (!value || !this.stack.length || !('elements' in top))\n            return;\n        const last = (_a = top.elements) === null || _a === void 0 ? void 0 : _a[top.elements.length - 1];\n        if ((last === null || last === void 0 ? void 0 : last.type) === 'text') {\n            // The last node is also text, merge it\n            last.text += `${value}`;\n            return last;\n        }\n        const node = createText(value);\n        (_b = top.elements) === null || _b === void 0 ? void 0 : _b.push(node);\n        return node;\n    }\n    renderChildren(node) {\n        var _a;\n        (_a = node.children) === null || _a === void 0 ? void 0 : _a.forEach((child) => {\n            const handler = this.handlers[child.type];\n            if (handler) {\n                handler(child, this, node);\n            }\n            else {\n                fileError(this.file, `Unhandled JATS conversion for node of \"${child.type}\"`, {\n                    node: child,\n                    source: 'myst-to-jats',\n                });\n            }\n        });\n    }\n    renderInline(node, name, attributes) {\n        this.openNode(name, Object.assign({ id: name !== 'xref' && node.identifier ? node.identifier : undefined }, attributes));\n        if ('children' in node) {\n            this.renderChildren(node);\n        }\n        else if ('value' in node && node.value) {\n            this.text(node.value);\n        }\n        this.closeNode();\n    }\n    addLeaf(name, attributes) {\n        this.openNode(name, attributes, true);\n        this.closeNode();\n    }\n    openNode(name, attributes, isLeaf = false) {\n        const node = name === 'cdata'\n            ? { type: 'cdata', cdata: attributes === null || attributes === void 0 ? void 0 : attributes.cdata }\n            : { type: 'element', name, attributes };\n        if (!isLeaf)\n            node.elements = [];\n        this.stack.push(node);\n    }\n    closeNode() {\n        const node = this.stack.pop();\n        return this.pushNode(node);\n    }\n    article(articleType, specificUse) {\n        const attributes = {\n            'xmlns:mml': 'http://www.w3.org/1998/Math/MathML',\n            'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n            'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n            'xmlns:ali': 'http://www.niso.org/schemas/ali/1.0/',\n            'dtd-version': '1.3',\n            'xml:lang': 'en',\n        };\n        if (articleType)\n            attributes['article-type'] = articleType;\n        if (specificUse)\n            attributes['specific-use'] = specificUse;\n        const front = getFront(this.options.frontmatter);\n        const back = getBack(this.options.citations, this.footnotes);\n        const elements = [];\n        if (front)\n            elements.push(front);\n        elements.push({ type: 'element', name: 'body', elements: this.body() });\n        if (back)\n            elements.push(back);\n        const article = {\n            type: 'element',\n            name: Tags.article,\n            attributes,\n            elements,\n        };\n        return article;\n    }\n    body() {\n        var _a;\n        return (_a = this.stack[0].elements) !== null && _a !== void 0 ? _a : [];\n    }\n    back() {\n        return {};\n    }\n}\nconst plugin = function (opts) {\n    this.Compiler = (node, file) => {\n        const tree = copyNode(node);\n        basicTransformations(tree);\n        const state = new JatsSerializer(file, tree, opts !== null && opts !== void 0 ? opts : { handlers });\n        const elements = (opts === null || opts === void 0 ? void 0 : opts.fullArticle) ? [state.article()] : state.body();\n        const jats = js2xml({ type: 'element', elements }, {\n            compact: false,\n            spaces: opts === null || opts === void 0 ? void 0 : opts.spaces,\n        });\n        const result = {\n            value: jats,\n        };\n        file.result = result;\n        return file;\n    };\n    return (node) => {\n        // Preprocess\n        return node;\n    };\n};\nexport default plugin;\n", "import { toText } from 'myst-common';\nimport { xml2js } from 'xml-js';\nimport doi from 'doi-utils';\nimport { authorAndAffiliation, convertToUnist, findArticleId, toDate } from './utils';\nimport { select as unistSelect, selectAll } from 'unist-util-select';\nimport { Tags } from './types';\nimport { tic } from 'myst-cli-utils';\nfunction select(selector, node) {\n    var _a;\n    return ((_a = unistSelect(selector, node)) !== null && _a !== void 0 ? _a : undefined);\n}\nexport class Jats {\n    constructor(data, opts) {\n        var _a;\n        const toc = tic();\n        this.log = opts === null || opts === void 0 ? void 0 : opts.log;\n        if (opts === null || opts === void 0 ? void 0 : opts.source)\n            this.source = opts.source;\n        try {\n            this.raw = xml2js(data, { compact: false });\n        }\n        catch (error) {\n            throw new Error('Problem parsing the JATS document, please ensure it is XML');\n        }\n        const { declaration, elements } = this.raw;\n        this.declaration = declaration === null || declaration === void 0 ? void 0 : declaration.attributes;\n        if (!((elements === null || elements === void 0 ? void 0 : elements.length) === 2 && elements[0].type === 'doctype' && hasSingleArticle(elements[1]))) {\n            throw new Error('Element <article> is not the only element of the JATS');\n        }\n        this.doctype = elements[0].doctype;\n        const converted = convertToUnist(elements[1]);\n        this.tree = select('article', converted);\n        (_a = this.log) === null || _a === void 0 ? void 0 : _a.debug(toc('Parsed and converted JATS to unist tree in %s'));\n    }\n    get frontmatter() {\n        var _a, _b, _c, _d;\n        const title = this.articleTitle;\n        const subtitle = this.articleSubtitle;\n        const date = this.publicationDate;\n        const authors = this.articleAuthors;\n        const firstSubject = select(Tags.subject, (_a = this.articleCategories) !== null && _a !== void 0 ? _a : this.front);\n        const journalTitle = select(Tags.journalTitle, this.front);\n        return {\n            title: title ? toText(title) : undefined,\n            subtitle: subtitle ? toText(subtitle) : undefined,\n            doi: (_b = this.doi) !== null && _b !== void 0 ? _b : undefined,\n            date: date ? (_c = toDate(date)) === null || _c === void 0 ? void 0 : _c.toISOString() : undefined,\n            authors: authors === null || authors === void 0 ? void 0 : authors.map((a) => authorAndAffiliation(a, this.tree)),\n            keywords: (_d = this.keywords) === null || _d === void 0 ? void 0 : _d.map((k) => toText(k)),\n            venue: journalTitle ? { title: toText(journalTitle) } : undefined,\n            subject: firstSubject ? toText(firstSubject) : undefined,\n        };\n    }\n    get front() {\n        return select(Tags.front, this.tree);\n    }\n    get premissions() {\n        return select(Tags.permissions, this.front);\n    }\n    get doi() {\n        var _a;\n        return doi.normalize((_a = findArticleId(this.front, 'doi')) !== null && _a !== void 0 ? _a : '');\n    }\n    get pmc() {\n        var _a;\n        return (_a = findArticleId(this.front, 'pmc')) === null || _a === void 0 ? void 0 : _a.replace(/^PMC:?/, '');\n    }\n    get pmid() {\n        return findArticleId(this.front, 'pmid');\n    }\n    get publicationDates() {\n        return selectAll(Tags.pubDate, this.front);\n    }\n    get publicationDate() {\n        return this.publicationDates.find((d) => !!select(Tags.day, d));\n    }\n    get license() {\n        return select(Tags.license, this.premissions);\n    }\n    get keywordGroup() {\n        return select(Tags.kwdGroup, this.front);\n    }\n    /** The first keywords */\n    get keywords() {\n        return selectAll(Tags.kwd, this.keywordGroup);\n    }\n    get keywordGroups() {\n        return selectAll(Tags.kwdGroup, this.front);\n    }\n    get articleCategories() {\n        return select(Tags.articleCategories, this.front);\n    }\n    get titleGroup() {\n        return select(Tags.titleGroup, this.front);\n    }\n    get articleTitle() {\n        return select(Tags.articleTitle, this.titleGroup);\n    }\n    get articleSubtitle() {\n        return select(Tags.subtitle, this.titleGroup);\n    }\n    get abstract() {\n        return select(Tags.abstract, this.front);\n    }\n    get abstracts() {\n        return selectAll(Tags.abstract, this.front);\n    }\n    get contribGroup() {\n        return select(Tags.contribGroup, this.front);\n    }\n    get contribGroups() {\n        return selectAll(Tags.contribGroup, this.front);\n    }\n    get articleAuthors() {\n        return selectAll(Tags.contrib, this.contribGroup);\n    }\n    get body() {\n        return select(Tags.body, this.tree);\n    }\n    get back() {\n        return select(Tags.back, this.tree);\n    }\n    get subArticles() {\n        return selectAll(Tags.subArticle, this.tree);\n    }\n    get refList() {\n        return select(Tags.refList, this.back);\n    }\n    get references() {\n        return selectAll(Tags.ref, this.refList);\n    }\n}\nfunction hasSingleArticle(element) {\n    var _a;\n    if (element.name === 'article') {\n        return true;\n    }\n    if (element.name === 'pmc-articleset' &&\n        ((_a = element.elements) === null || _a === void 0 ? void 0 : _a.length) === 1 &&\n        element.elements[0].name === 'article') {\n        return true;\n    }\n    return false;\n}\n", "export var Tags;\n(function (Tags) {\n    /**\n     * Abbreviation or Acronym\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/abbrev.html\n     */\n    Tags[\"abbrev\"] = \"abbrev\";\n    /**\n     * Abstract\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/abstract.html\n     */\n    Tags[\"abstract\"] = \"abstract\";\n    /**\n     * Access Date for Cited Work\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/access-date.html\n     */\n    Tags[\"accessDate\"] = \"access-date\";\n    /**\n     * Acknowledgments\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ack.html\n     */\n    Tags[\"ack\"] = \"ack\";\n    /**\n     * Address Line\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/addr-line.html\n     */\n    Tags[\"addrLine\"] = \"addr-line\";\n    /**\n     * Address/Contact Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/address.html\n     */\n    Tags[\"address\"] = \"address\";\n    /**\n     * Affiliation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/aff.html\n     */\n    Tags[\"aff\"] = \"aff\";\n    /**\n     * Affiliation Alternatives\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/aff-alternatives.html\n     */\n    Tags[\"affAlternatives\"] = \"aff-alternatives\";\n    /**\n     * Free to Read (NISO Access and License  Indicators)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ali-free_to_read.html\n     */\n    Tags[\"ali:free_to_read\"] = \"ali:free_to_read\";\n    /**\n     * License Reference (NISO and Access License  Indicators)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ali-license_ref.html\n     */\n    Tags[\"ali:license_ref\"] = \"ali:license_ref\";\n    /**\n     * Alternate Text Name (for a figure, etc.)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/alt-text.html\n     */\n    Tags[\"altText\"] = \"alt-text\";\n    /**\n     * Alternate Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/alt-title.html\n     */\n    Tags[\"altTitle\"] = \"alt-title\";\n    /**\n     * Alternatives For Processing\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/alternatives.html\n     */\n    Tags[\"alternatives\"] = \"alternatives\";\n    /**\n     * Annotation in a Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/annotation.html\n     */\n    Tags[\"annotation\"] = \"annotation\";\n    /**\n     * Anonymous\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/anonymous.html\n     */\n    Tags[\"anonymous\"] = \"anonymous\";\n    /**\n     * Answer to a Question\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/answer.html\n     */\n    Tags[\"answer\"] = \"answer\";\n    /**\n     * Answer Set\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/answer-set.html\n     */\n    Tags[\"answerSet\"] = \"answer-set\";\n    /**\n     * Appendix\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/app.html\n     */\n    Tags[\"app\"] = \"app\";\n    /**\n     * Appendix Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/app-group.html\n     */\n    Tags[\"appGroup\"] = \"app-group\";\n    /**\n     * Array (Simple Tabulation)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/array.html\n     */\n    Tags[\"array\"] = \"array\";\n    /**\n     * Article\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/article.html\n     */\n    Tags[\"article\"] = \"article\";\n    /**\n     * Article Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/article-meta.html\n     */\n    Tags[\"articleMeta\"] = \"article-meta\";\n    /**\n     * Article Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/article-title.html\n     */\n    Tags[\"articleTitle\"] = \"article-title\";\n    /**\n     * Article Current Version Status or Number\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/article-version.html\n     */\n    Tags[\"articleVersion\"] = \"article-version\";\n    /**\n     * Attribution\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/attrib.html\n     */\n    Tags[\"attrib\"] = \"attrib\";\n    /**\n     * Author Comment\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/author-comment.html\n     */\n    Tags[\"authorComment\"] = \"author-comment\";\n    /**\n     * Award Description\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/award-desc.html\n     */\n    Tags[\"awardDesc\"] = \"award-desc\";\n    /**\n     * Award Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/award-group.html\n     */\n    Tags[\"awardGroup\"] = \"award-group\";\n    /**\n     * Award Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/award-id.html\n     */\n    Tags[\"awardId\"] = \"award-id\";\n    /**\n     * Award Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/award-name.html\n     */\n    Tags[\"awardName\"] = \"award-name\";\n    /**\n     * Back Matter\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/back.html\n     */\n    Tags[\"back\"] = \"back\";\n    /**\n     * Biography\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/bio.html\n     */\n    Tags[\"bio\"] = \"bio\";\n    /**\n     * Body of the Document\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/body.html\n     */\n    Tags[\"body\"] = \"body\";\n    /**\n     * Bold\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/bold.html\n     */\n    Tags[\"bold\"] = \"bold\";\n    /**\n     * Boxed Text\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/boxed-text.html\n     */\n    Tags[\"boxedText\"] = \"boxed-text\";\n    /**\n     * Line Break\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/break.html\n     */\n    Tags[\"break\"] = \"break\";\n    /**\n     * Caption of a Figure, Table, etc.\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/caption.html\n     */\n    Tags[\"caption\"] = \"caption\";\n    /**\n     * Chapter Title in a Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/chapter-title.html\n     */\n    Tags[\"chapterTitle\"] = \"chapter-title\";\n    /**\n     * Chemical Structure (Display)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/chem-struct.html\n     */\n    Tags[\"chemStruct\"] = \"chem-struct\";\n    /**\n     * Chemical Structure Wrapper\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/chem-struct-wrap.html\n     */\n    Tags[\"chemStructWrap\"] = \"chem-struct-wrap\";\n    /**\n     * Citation Alternatives\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/citation-alternatives.html\n     */\n    Tags[\"citationAlternatives\"] = \"citation-alternatives\";\n    /**\n     * City\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/city.html\n     */\n    Tags[\"city\"] = \"city\";\n    /**\n     * Code\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/code.html\n     */\n    Tags[\"code\"] = \"code\";\n    /**\n     * Table Column (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/col.html\n     */\n    Tags[\"col\"] = \"col\";\n    /**\n     * Table Column Group (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/colgroup.html\n     */\n    Tags[\"colgroup\"] = \"colgroup\";\n    /**\n     * Collaborative (Group) Author\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/collab.html\n     */\n    Tags[\"collab\"] = \"collab\";\n    /**\n     * Collaboration Alternatives\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/collab-alternatives.html\n     */\n    Tags[\"collabAlternatives\"] = \"collab-alternatives\";\n    /**\n     * Comment in a Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/comment.html\n     */\n    Tags[\"comment\"] = \"comment\";\n    /**\n     * Compound Keyword\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/compound-kwd.html\n     */\n    Tags[\"compoundKwd\"] = \"compound-kwd\";\n    /**\n     * Compound Keyword Part\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/compound-kwd-part.html\n     */\n    Tags[\"compoundKwdPart\"] = \"compound-kwd-part\";\n    /**\n     * Compound Subject Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/compound-subject.html\n     */\n    Tags[\"compoundSubject\"] = \"compound-subject\";\n    /**\n     * Compound Subject Part Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/compound-subject-part.html\n     */\n    Tags[\"compoundSubjectPart\"] = \"compound-subject-part\";\n    /**\n     * Conference Acronym\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-acronym.html\n     */\n    Tags[\"confAcronym\"] = \"conf-acronym\";\n    /**\n     * Conference Date\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-date.html\n     */\n    Tags[\"confDate\"] = \"conf-date\";\n    /**\n     * Conference Location\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-loc.html\n     */\n    Tags[\"confLoc\"] = \"conf-loc\";\n    /**\n     * Conference Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-name.html\n     */\n    Tags[\"confName\"] = \"conf-name\";\n    /**\n     * Conference Number\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-num.html\n     */\n    Tags[\"confNum\"] = \"conf-num\";\n    /**\n     * Conference Sponsor\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-sponsor.html\n     */\n    Tags[\"confSponsor\"] = \"conf-sponsor\";\n    /**\n     * Conference Theme\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conf-theme.html\n     */\n    Tags[\"confTheme\"] = \"conf-theme\";\n    /**\n     * Conference Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/conference.html\n     */\n    Tags[\"conference\"] = \"conference\";\n    /**\n     * Contributor\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/contrib.html\n     */\n    Tags[\"contrib\"] = \"contrib\";\n    /**\n     * Contributor Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/contrib-group.html\n     */\n    Tags[\"contribGroup\"] = \"contrib-group\";\n    /**\n     * Contributor Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/contrib-id.html\n     */\n    Tags[\"contribId\"] = \"contrib-id\";\n    /**\n     * Contributed Resource Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/contributed-resource-group.html\n     */\n    Tags[\"contributedResourceGroup\"] = \"contributed-resource-group\";\n    /**\n     * Copyright Holder\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/copyright-holder.html\n     */\n    Tags[\"copyrightHolder\"] = \"copyright-holder\";\n    /**\n     * Copyright Statement\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/copyright-statement.html\n     */\n    Tags[\"copyrightStatement\"] = \"copyright-statement\";\n    /**\n     * Copyright Year\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/copyright-year.html\n     */\n    Tags[\"copyrightYear\"] = \"copyright-year\";\n    /**\n     * Country: in an Address\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/country.html\n     */\n    Tags[\"country\"] = \"country\";\n    /**\n     * Custom Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/custom-meta.html\n     */\n    Tags[\"customMeta\"] = \"custom-meta\";\n    /**\n     * Custom Metadata Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/custom-meta-group.html\n     */\n    Tags[\"customMetaGroup\"] = \"custom-meta-group\";\n    /**\n     * Data Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/data-title.html\n     */\n    Tags[\"dataTitle\"] = \"data-title\";\n    /**\n     * Date\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/date.html\n     */\n    Tags[\"date\"] = \"date\";\n    /**\n     * Date within a Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/date-in-citation.html\n     */\n    Tags[\"dateInCitation\"] = \"date-in-citation\";\n    /**\n     * Day\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/day.html\n     */\n    Tags[\"day\"] = \"day\";\n    /**\n     * Definition List: Definition\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/def.html\n     */\n    Tags[\"def\"] = \"def\";\n    /**\n     * Definition List: Definition Head\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/def-head.html\n     */\n    Tags[\"defHead\"] = \"def-head\";\n    /**\n     * Definition List: Definition Item\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/def-item.html\n     */\n    Tags[\"defItem\"] = \"def-item\";\n    /**\n     * Definition List\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/def-list.html\n     */\n    Tags[\"defList\"] = \"def-list\";\n    /**\n     * Degree(s)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/degrees.html\n     */\n    Tags[\"degrees\"] = \"degrees\";\n    /**\n     * Formula, Display\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/disp-formula.html\n     */\n    Tags[\"dispFormula\"] = \"disp-formula\";\n    /**\n     * Formula, Display Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/disp-formula-group.html\n     */\n    Tags[\"dispFormulaGroup\"] = \"disp-formula-group\";\n    /**\n     * Quote, Displayed\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/disp-quote.html\n     */\n    Tags[\"dispQuote\"] = \"disp-quote\";\n    /**\n     * Edition Statement, Cited\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/edition.html\n     */\n    Tags[\"edition\"] = \"edition\";\n    /**\n     * Element Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/element-citation.html\n     */\n    Tags[\"elementCitation\"] = \"element-citation\";\n    /**\n     * Electronic Location Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/elocation-id.html\n     */\n    Tags[\"elocationId\"] = \"elocation-id\";\n    /**\n     * Email Address\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/email.html\n     */\n    Tags[\"email\"] = \"email\";\n    /**\n     * Era of Time\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/era.html\n     */\n    Tags[\"era\"] = \"era\";\n    /**\n     * Et Al.\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/etal.html\n     */\n    Tags[\"etal\"] = \"etal\";\n    /**\n     * Explanation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/explanation.html\n     */\n    Tags[\"explanation\"] = \"explanation\";\n    /**\n     * External Link\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ext-link.html\n     */\n    Tags[\"extLink\"] = \"ext-link\";\n    /**\n     * Extended-by Model\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/extended-by.html\n     */\n    Tags[\"extendedBy\"] = \"extended-by\";\n    /**\n     * Fax Number: in an Address\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fax.html\n     */\n    Tags[\"fax\"] = \"fax\";\n    /**\n     * Figure\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fig.html\n     */\n    Tags[\"fig\"] = \"fig\";\n    /**\n     * Fixed Case\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fixed-case.html\n     */\n    Tags[\"fixedCase\"] = \"fixed-case\";\n    /**\n     * Footnote\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fn.html\n     */\n    Tags[\"fn\"] = \"fn\";\n    /**\n     * Footnote Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fn-group.html\n     */\n    Tags[\"fnGroup\"] = \"fn-group\";\n    /**\n     * First Page\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/fpage.html\n     */\n    Tags[\"fpage\"] = \"fpage\";\n    /**\n     * Front Matter\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/front.html\n     */\n    Tags[\"front\"] = \"front\";\n    /**\n     * Funding Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/funding-group.html\n     */\n    Tags[\"fundingGroup\"] = \"funding-group\";\n    /**\n     * Funding Source\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/funding-source.html\n     */\n    Tags[\"fundingSource\"] = \"funding-source\";\n    /**\n     * Funding Statement\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/funding-statement.html\n     */\n    Tags[\"fundingStatement\"] = \"funding-statement\";\n    /**\n     * Given (First) Names\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/given-names.html\n     */\n    Tags[\"givenNames\"] = \"given-names\";\n    /**\n     * Glossary Elements List\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/glossary.html\n     */\n    Tags[\"glossary\"] = \"glossary\";\n    /**\n     * Glyph Data for a Private Character\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/glyph-data.html\n     */\n    Tags[\"glyphData\"] = \"glyph-data\";\n    /**\n     * Glyph Reference for a Private Character\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/glyph-ref.html\n     */\n    Tags[\"glyphRef\"] = \"glyph-ref\";\n    /**\n     * Government Report, Cited\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/gov.html\n     */\n    Tags[\"gov\"] = \"gov\";\n    /**\n     * Graphic\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/graphic.html\n     */\n    Tags[\"graphic\"] = \"graphic\";\n    /**\n     * Horizontal Rule\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/hr.html\n     */\n    Tags[\"hr\"] = \"hr\";\n    /**\n     * Index Term\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/index-term.html\n     */\n    Tags[\"indexTerm\"] = \"index-term\";\n    /**\n     * Index Term Range End\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/index-term-range-end.html\n     */\n    Tags[\"indexTermRangeEnd\"] = \"index-term-range-end\";\n    /**\n     * Formula, Inline\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/inline-formula.html\n     */\n    Tags[\"inlineFormula\"] = \"inline-formula\";\n    /**\n     * Graphic, Inline\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/inline-graphic.html\n     */\n    Tags[\"inlineGraphic\"] = \"inline-graphic\";\n    /**\n     * Inline Media Object\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/inline-media.html\n     */\n    Tags[\"inlineMedia\"] = \"inline-media\";\n    /**\n     * Inline Supplementary Material Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/inline-supplementary-material.html\n     */\n    Tags[\"inlineSupplementaryMaterial\"] = \"inline-supplementary-material\";\n    /**\n     * Institution Name: in an Address\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/institution.html\n     */\n    Tags[\"institution\"] = \"institution\";\n    /**\n     * Institution Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/institution-id.html\n     */\n    Tags[\"institutionId\"] = \"institution-id\";\n    /**\n     * Institution Wrapper\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/institution-wrap.html\n     */\n    Tags[\"institutionWrap\"] = \"institution-wrap\";\n    /**\n     * ISBN\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/isbn.html\n     */\n    Tags[\"isbn\"] = \"isbn\";\n    /**\n     * ISSN International Standard Serial Number\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issn.html\n     */\n    Tags[\"issn\"] = \"issn\";\n    /**\n     * ISSN-L (Linking ISSN)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issn-l.html\n     */\n    Tags[\"issn-l\"] = \"issn-l\";\n    /**\n     * Issue Number\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issue.html\n     */\n    Tags[\"issue\"] = \"issue\";\n    /**\n     * Issue Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issue-id.html\n     */\n    Tags[\"issueId\"] = \"issue-id\";\n    /**\n     * Issue Part\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issue-part.html\n     */\n    Tags[\"issuePart\"] = \"issue-part\";\n    /**\n     * Issue Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/issue-title.html\n     */\n    Tags[\"issueTitle\"] = \"issue-title\";\n    /**\n     * Italic\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/italic.html\n     */\n    Tags[\"italic\"] = \"italic\";\n    /**\n     * Journal Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/journal-id.html\n     */\n    Tags[\"journalId\"] = \"journal-id\";\n    /**\n     * Keyword\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/kwd.html\n     */\n    Tags[\"kwd\"] = \"kwd\";\n    /**\n     * Keyword Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/kwd-group.html\n     */\n    Tags[\"kwdGroup\"] = \"kwd-group\";\n    /**\n     * Label (of an Equation, Figure, Reference, etc.)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/label.html\n     */\n    Tags[\"label\"] = \"label\";\n    /**\n     * License Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/license.html\n     */\n    Tags[\"license\"] = \"license\";\n    /**\n     * License Paragraph\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/license-p.html\n     */\n    Tags[\"license-p\"] = \"license-p\";\n    /**\n     * List\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/list.html\n     */\n    Tags[\"list\"] = \"list\";\n    /**\n     * List Item\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/list-item.html\n     */\n    Tags[\"listItem\"] = \"list-item\";\n    /**\n     * Long Description\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/long-desc.html\n     */\n    Tags[\"longDesc\"] = \"long-desc\";\n    /**\n     * Last Page\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/lpage.html\n     */\n    Tags[\"lpage\"] = \"lpage\";\n    /**\n     * Media Object\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/media.html\n     */\n    Tags[\"media\"] = \"media\";\n    /**\n     * Metadata Data Name for Custom Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/meta-name.html\n     */\n    Tags[\"metaName\"] = \"meta-name\";\n    /**\n     * Metadata Data Value for Custom Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/meta-value.html\n     */\n    Tags[\"metaValue\"] = \"meta-value\";\n    /**\n     * Mixed Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/mixed-citation.html\n     */\n    Tags[\"mixedCitation\"] = \"mixed-citation\";\n    /**\n     * Math (MathML Tag Set)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/mml-math.html\n     */\n    Tags[\"mml:math\"] = \"mml:math\";\n    /**\n     * Monospace Text (Typewriter Text)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/monospace.html\n     */\n    Tags[\"monospace\"] = \"monospace\";\n    /**\n     * Month\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/month.html\n     */\n    Tags[\"month\"] = \"month\";\n    /**\n     * Name of Person\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/name.html\n     */\n    Tags[\"name\"] = \"name\";\n    /**\n     * Name Alternatives\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/name-alternatives.html\n     */\n    Tags[\"nameAlternatives\"] = \"name-alternatives\";\n    /**\n     * Named Special (Subject) Content\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/named-content.html\n     */\n    Tags[\"namedContent\"] = \"named-content\";\n    /**\n     * Nested Keyword\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/nested-kwd.html\n     */\n    Tags[\"nestedKwd\"] = \"nested-kwd\";\n    /**\n     * NLM Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/nlm-citation.html\n     */\n    Tags[\"nlmCitation\"] = \"nlm-citation\";\n    /**\n     * Object Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/object-id.html\n     */\n    Tags[\"objectId\"] = \"object-id\";\n    /**\n     * On Behalf of\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/on-behalf-of.html\n     */\n    Tags[\"onBehalfOf\"] = \"on-behalf-of\";\n    /**\n     * Open Access\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/open-access.html\n     */\n    Tags[\"openAccess\"] = \"open-access\";\n    /**\n     * Answer Option (for a question)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/option.html\n     */\n    Tags[\"option\"] = \"option\";\n    /**\n     * Overline\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/overline.html\n     */\n    Tags[\"overline\"] = \"overline\";\n    /**\n     * Paragraph\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/p.html\n     */\n    Tags[\"p\"] = \"p\";\n    /**\n     * Page Count\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/page-count.html\n     */\n    Tags[\"pageCount\"] = \"page-count\";\n    /**\n     * Page Ranges\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/page-range.html\n     */\n    Tags[\"pageRange\"] = \"page-range\";\n    /**\n     * Part Title in a Citation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/part-title.html\n     */\n    Tags[\"partTitle\"] = \"part-title\";\n    /**\n     * Patent Number, Cited\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/patent.html\n     */\n    Tags[\"patent\"] = \"patent\";\n    /**\n     * Permissions\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/permissions.html\n     */\n    Tags[\"permissions\"] = \"permissions\";\n    /**\n     * Person Group for a Cited Publication\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/person-group.html\n     */\n    Tags[\"personGroup\"] = \"person-group\";\n    /**\n     * Phone Number: in an Address\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/phone.html\n     */\n    Tags[\"phone\"] = \"phone\";\n    /**\n     * Postal Code\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/postal-code.html\n     */\n    Tags[\"postalCode\"] = \"postal-code\";\n    /**\n     * Prefix\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/prefix.html\n     */\n    Tags[\"prefix\"] = \"prefix\";\n    /**\n     * Preformatted Text\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/preformat.html\n     */\n    Tags[\"preformat\"] = \"preformat\";\n    /**\n     * Price\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/price.html\n     */\n    Tags[\"price\"] = \"price\";\n    /**\n     * Principal Award Recipient\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/principal-award-recipient.html\n     */\n    Tags[\"principalAwardRecipient\"] = \"principal-award-recipient\";\n    /**\n     * Principal Investigator\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/principal-investigator.html\n     */\n    Tags[\"principalInvestigator\"] = \"principal-investigator\";\n    /**\n     * Private Character (Custom or Unicode)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/private-char.html\n     */\n    Tags[\"privateChar\"] = \"private-char\";\n    /**\n     * Processing Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/processing-meta.html\n     */\n    Tags[\"processingMeta\"] = \"processing-meta\";\n    /**\n     * Product Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/product.html\n     */\n    Tags[\"product\"] = \"product\";\n    /**\n     * Publication Identifier for a Cited Publication\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/pub-id.html\n     */\n    Tags[\"pubId\"] = \"pub-id\";\n    /**\n     * Publisher\u2019s Location\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/publisher-loc.html\n     */\n    Tags[\"publisherLoc\"] = \"publisher-loc\";\n    /**\n     * Publisher\u2019s Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/publisher-name.html\n     */\n    Tags[\"publisherName\"] = \"publisher-name\";\n    /**\n     * Question\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/question.html\n     */\n    Tags[\"question\"] = \"question\";\n    /**\n     * Question Preamble\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/question-preamble.html\n     */\n    Tags[\"questionPreamble\"] = \"question-preamble\";\n    /**\n     * Question Wrapper\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/question-wrap.html\n     */\n    Tags[\"questionWrap\"] = \"question-wrap\";\n    /**\n     * Question Wrapper Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/question-wrap-group.html\n     */\n    Tags[\"questionWrapGroup\"] = \"question-wrap-group\";\n    /**\n     * Ruby Base Text\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/rb.html\n     */\n    Tags[\"rb\"] = \"rb\";\n    /**\n     * Reference Item\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ref.html\n     */\n    Tags[\"ref\"] = \"ref\";\n    /**\n     * Reference List (Bibliographic)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ref-list.html\n     */\n    Tags[\"refList\"] = \"ref-list\";\n    /**\n     * Related Article Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/related-article.html\n     */\n    Tags[\"relatedArticle\"] = \"related-article\";\n    /**\n     * Related Object Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/related-object.html\n     */\n    Tags[\"relatedObject\"] = \"related-object\";\n    /**\n     * Resource Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/resource-group.html\n     */\n    Tags[\"resourceGroup\"] = \"resource-group\";\n    /**\n     * Resource Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/resource-id.html\n     */\n    Tags[\"resourceId\"] = \"resource-id\";\n    /**\n     * Resource Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/resource-name.html\n     */\n    Tags[\"resourceName\"] = \"resource-name\";\n    /**\n     * Resource Wrap\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/resource-wrap.html\n     */\n    Tags[\"resourceWrap\"] = \"resource-wrap\";\n    /**\n     * Restricted-by Model\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/restricted-by.html\n     */\n    Tags[\"restrictedBy\"] = \"restricted-by\";\n    /**\n     * Role or Function Title of Contributor\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/role.html\n     */\n    Tags[\"role\"] = \"role\";\n    /**\n     * Roman\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/roman.html\n     */\n    Tags[\"roman\"] = \"roman\";\n    /**\n     * Ruby Textual Annotation\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/rt.html\n     */\n    Tags[\"rt\"] = \"rt\";\n    /**\n     * Ruby Annotation Wrapper\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/ruby.html\n     */\n    Tags[\"ruby\"] = \"ruby\";\n    /**\n     * Sans Serif\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sans-serif.html\n     */\n    Tags[\"sansSerif\"] = \"sans-serif\";\n    /**\n     * Small Caps\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sc.html\n     */\n    Tags[\"sc\"] = \"sc\";\n    /**\n     * Season\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/season.html\n     */\n    Tags[\"season\"] = \"season\";\n    /**\n     * Section\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sec.html\n     */\n    Tags[\"sec\"] = \"sec\";\n    /**\n     * Section Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sec-meta.html\n     */\n    Tags[\"secMeta\"] = \"sec-meta\";\n    /**\n     * See\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/see.html\n     */\n    Tags[\"see\"] = \"see\";\n    /**\n     * See-Also\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/see-also.html\n     */\n    Tags[\"seeAlso\"] = \"see-also\";\n    /**\n     * URI for This Same Article Online\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/self-uri.html\n     */\n    Tags[\"selfUri\"] = \"self-uri\";\n    /**\n     * Series\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/series.html\n     */\n    Tags[\"series\"] = \"series\";\n    /**\n     * Size\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/size.html\n     */\n    Tags[\"size\"] = \"size\";\n    /**\n     * Source\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/source.html\n     */\n    Tags[\"source\"] = \"source\";\n    /**\n     * Speaker\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/speaker.html\n     */\n    Tags[\"speaker\"] = \"speaker\";\n    /**\n     * Speech\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/speech.html\n     */\n    Tags[\"speech\"] = \"speech\";\n    /**\n     * State or Province\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/state.html\n     */\n    Tags[\"state\"] = \"state\";\n    /**\n     * Statement, Formal\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/statement.html\n     */\n    Tags[\"statement\"] = \"statement\";\n    /**\n     * Standard, Cited\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/std.html\n     */\n    Tags[\"std\"] = \"std\";\n    /**\n     * Standards Organization\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/std-organization.html\n     */\n    Tags[\"stdOrganization\"] = \"std-organization\";\n    /**\n     * Strike Through\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/strike.html\n     */\n    Tags[\"strike\"] = \"strike\";\n    /**\n     * Date as a String\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/string-date.html\n     */\n    Tags[\"stringDate\"] = \"string-date\";\n    /**\n     * Name of Person (Unstructured)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/string-name.html\n     */\n    Tags[\"stringName\"] = \"string-name\";\n    /**\n     * Styled Special (Subject) Content\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/styled-content.html\n     */\n    Tags[\"styledContent\"] = \"styled-content\";\n    /**\n     * Subscript\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sub.html\n     */\n    Tags[\"sub\"] = \"sub\";\n    /**\n     * Subject Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/subj-group.html\n     */\n    Tags[\"subjGroup\"] = \"subj-group\";\n    /**\n     * Subject Grouping Name\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/subject.html\n     */\n    Tags[\"subject\"] = \"subject\";\n    /**\n     * Document Subtitle\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/subtitle.html\n     */\n    Tags[\"subtitle\"] = \"subtitle\";\n    /**\n     * Suffix\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/suffix.html\n     */\n    Tags[\"suffix\"] = \"suffix\";\n    /**\n     * Superscript\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/sup.html\n     */\n    Tags[\"sup\"] = \"sup\";\n    /**\n     * Supplement Information\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/supplement.html\n     */\n    Tags[\"supplement\"] = \"supplement\";\n    /**\n     * Supplementary Material Metadata\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/supplementary-material.html\n     */\n    Tags[\"supplementaryMaterial\"] = \"supplementary-material\";\n    /**\n     * Support Description\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/support-description.html\n     */\n    Tags[\"supportDescription\"] = \"support-description\";\n    /**\n     * Support Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/support-group.html\n     */\n    Tags[\"supportGroup\"] = \"support-group\";\n    /**\n     * Support Source\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/support-source.html\n     */\n    Tags[\"supportSource\"] = \"support-source\";\n    /**\n     * Surname\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/surname.html\n     */\n    Tags[\"surname\"] = \"surname\";\n    /**\n     * Table (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/table.html\n     */\n    Tags[\"table\"] = \"table\";\n    /**\n     * Table Wrapper\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/table-wrap.html\n     */\n    Tags[\"tableWrap\"] = \"table-wrap\";\n    /**\n     * Table Wrapper Footer\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/table-wrap-foot.html\n     */\n    Tags[\"tableWrapFoot\"] = \"table-wrap-foot\";\n    /**\n     * Target of an Internal Link\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/target.html\n     */\n    Tags[\"target\"] = \"target\";\n    /**\n     * Table Body (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/tbody.html\n     */\n    Tags[\"tbody\"] = \"tbody\";\n    /**\n     * Table Data Cell (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/td.html\n     */\n    Tags[\"td\"] = \"td\";\n    /**\n     * Definition List: Term\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/term.html\n     */\n    Tags[\"term\"] = \"term\";\n    /**\n     * Definition List: Term Head\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/term-head.html\n     */\n    Tags[\"termHead\"] = \"term-head\";\n    /**\n     * Textual Form\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/textual-form.html\n     */\n    Tags[\"textualForm\"] = \"textual-form\";\n    /**\n     * Table Footer (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/tfoot.html\n     */\n    Tags[\"tfoot\"] = \"tfoot\";\n    /**\n     * Table Header Cell (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/th.html\n     */\n    Tags[\"th\"] = \"th\";\n    /**\n     * Table Header (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/thead.html\n     */\n    Tags[\"thead\"] = \"thead\";\n    /**\n     * Time Stamp for Cited Work\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/time-stamp.html\n     */\n    Tags[\"timeStamp\"] = \"time-stamp\";\n    /**\n     * Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/title.html\n     */\n    Tags[\"title\"] = \"title\";\n    /**\n     * Title Group\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/title-group.html\n     */\n    Tags[\"titleGroup\"] = \"title-group\";\n    /**\n     * Table Row (NISO JATS table model)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/tr.html\n     */\n    Tags[\"tr\"] = \"tr\";\n    /**\n     * Translated Source\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/trans-source.html\n     */\n    Tags[\"transSource\"] = \"trans-source\";\n    /**\n     * Translated Title\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/trans-title.html\n     */\n    Tags[\"transTitle\"] = \"trans-title\";\n    /**\n     * Underline\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/underline.html\n     */\n    Tags[\"underline\"] = \"underline\";\n    /**\n     * Uniform Resource Identifier (URI)\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/uri.html\n     */\n    Tags[\"uri\"] = \"uri\";\n    /**\n     * Verse Form for Poetry\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/verse-group.html\n     */\n    Tags[\"verseGroup\"] = \"verse-group\";\n    /**\n     * Line of a Verse\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/verse-line.html\n     */\n    Tags[\"verseLine\"] = \"verse-line\";\n    /**\n     * Version Statement\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/version.html\n     */\n    Tags[\"version\"] = \"version\";\n    /**\n     * Volume Number\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/volume.html\n     */\n    Tags[\"volume\"] = \"volume\";\n    /**\n     * Volume Identifier\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/volume-id.html\n     */\n    Tags[\"volumeId\"] = \"volume-id\";\n    /**\n     * Volume Series\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/volume-series.html\n     */\n    Tags[\"volumeSeries\"] = \"volume-series\";\n    /**\n     * X (cross) Reference\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/xref.html\n     */\n    Tags[\"xref\"] = \"xref\";\n    /**\n     * Year\n     * See: https://jats.nlm.nih.gov/articleauthoring/tag-library/1.3/element/year.html\n     */\n    Tags[\"year\"] = \"year\";\n    /**\n     * Sub Article\n     *\n     * Not available in articleauthoring!\n     *\n     * See: https://jats.nlm.nih.gov/publishing/tag-library/1.3/element/sub-article.html\n     */\n    Tags[\"subArticle\"] = \"sub-article\";\n    /**\n     * Article Identifier\n     *\n     * Not available in articleauthoring!\n     *\n     * See: https://jats.nlm.nih.gov/publishing/tag-library/1.3/element/article-id.html\n     */\n    Tags[\"articleId\"] = \"article-id\";\n    /**\n     * Publication Date\n     *\n     * Not available in articleauthoring!\n     *\n     * See: https://jats.nlm.nih.gov/publishing/tag-library/1.3/element/pub-date.html\n     */\n    Tags[\"pubDate\"] = \"pub-date\";\n    /**\n     * Article Grouping Data\n     *\n     * Not available in articleauthoring!\n     *\n     * See: https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/article-categories.html\n     */\n    Tags[\"articleCategories\"] = \"article-categories\";\n    /**\n     * Journal Title\n     *\n     * Not available in articleauthoring!\n     *\n     * See: https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/journal-title.html\n     */\n    Tags[\"journalTitle\"] = \"journal-title\";\n})(Tags || (Tags = {}));\n", "/**\n * https://jats.nlm.nih.gov/archiving/tag-library/1.3/attribute/ref-type.html\n */\nexport var RefType;\n(function (RefType) {\n    /** Affiliation */\n    RefType[\"aff\"] = \"aff\";\n    /** Appendix */\n    RefType[\"app\"] = \"app\";\n    /** Author notes */\n    RefType[\"authorNote\"] = \"author-note\";\n    /** Points to the description of or identifier for a grant or award (<award-id>), also, possibly to an entire awards group (<award-group>) */\n    RefType[\"award\"] = \"award\";\n    /** Bibliographic reference (typically to a <ref> element, but it may point to a <element-citation> or <mixed-citation> if there are multiple citations inside the <ref> element) */\n    RefType[\"bibr\"] = \"bibr\";\n    /** Biography (typically of a contributor) */\n    RefType[\"bio\"] = \"bio\";\n    /** Textbox or sidebar */\n    RefType[\"boxedText\"] = \"boxed-text\";\n    /** Chemical structure (to a <chem-struct> or <chem-struct-wrap> element) */\n    RefType[\"chem\"] = \"chem\";\n    /** Collaboration */\n    RefType[\"collab\"] = \"collab\";\n    /** Contributor */\n    RefType[\"contrib\"] = \"contrib\";\n    /** Corresponding author */\n    RefType[\"corresp\"] = \"corresp\";\n    /** The value \u201Ccustom\u201D is used in versions of JATS that have a static list of values for the @ref-type attribute. To add a value to such a list, the cross reference is given the type \u201Ccustom\u201D and a separate @custom-type attribute provides the typing value. There is no need for this mechanism in Archiving, since there are no restrictions on the value of @ref-type, but \u201Ccustom\u201D and @custom-type have both been included in Archiving so that documents valid to a stricter version of the JATS Tag Set will also be valid to Archiving. */\n    RefType[\"custom\"] = \"custom\";\n    /** Display formula */\n    RefType[\"dispFormula\"] = \"disp-formula\";\n    /** Figure or group of figures (to a <fig> or <fig-group> element) */\n    RefType[\"fig\"] = \"fig\";\n    /** Footnote */\n    RefType[\"fn\"] = \"fn\";\n    /** Keyword */\n    RefType[\"kwd\"] = \"kwd\";\n    /** List or list item (to a <list> or <list-item> element; also, possibly to a <def-list> or <def-item> element) */\n    RefType[\"list\"] = \"list\";\n    /** Plate */\n    RefType[\"plate\"] = \"plate\";\n    /** Scheme */\n    RefType[\"scheme\"] = \"scheme\";\n    /** Section */\n    RefType[\"sec\"] = \"sec\";\n    /** Statement */\n    RefType[\"statement\"] = \"statement\";\n    /** Supplementary information */\n    RefType[\"supplementaryMaterial\"] = \"supplementary-material\";\n    /** Table or group of tables (to a <table-wrap> or <table-wrap-group> element) */\n    RefType[\"table\"] = \"table\";\n    /** Table footnote */\n    RefType[\"tableFn\"] = \"table-fn\";\n})(RefType || (RefType = {}));\n", "export function citeToJatsRef(key, data) {\n    var _a, _b, _c, _d;\n    const publicationType = !data.type || data.type === 'article-journal' ? 'journal' : data.type;\n    const elements = [];\n    const authors = (_a = data.author) === null || _a === void 0 ? void 0 : _a.map((author) => {\n        if (!author.given && !author.family)\n            return undefined;\n        const authorChildren = [];\n        if (author.family) {\n            authorChildren.push({\n                type: 'element',\n                name: 'surname',\n                elements: [{ type: 'text', text: author.family }],\n            });\n        }\n        if (author.given) {\n            authorChildren.push({\n                type: 'element',\n                name: 'given-names',\n                elements: [{ type: 'text', text: author.given }],\n            });\n        }\n        const authorElem = {\n            type: 'element',\n            name: 'name',\n            elements: authorChildren,\n        };\n        return authorElem;\n    }).filter((author) => !!author);\n    if (authors && authors.length) {\n        elements.push({\n            type: 'element',\n            name: 'person-group',\n            attributes: { 'person-group-type': 'author' },\n            elements: authors,\n        });\n    }\n    if (data.title) {\n        elements.push({\n            type: 'element',\n            name: 'article-title',\n            elements: [{ type: 'text', text: data.title }],\n        });\n    }\n    if (data['container-title']) {\n        elements.push({\n            type: 'element',\n            name: 'source',\n            elements: [{ type: 'text', text: data['container-title'] }],\n        });\n    }\n    const year = (_d = (_c = (_b = data.issued) === null || _b === void 0 ? void 0 : _b['date-parts']) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? void 0 : _d[0];\n    if (year) {\n        elements.push({\n            type: 'element',\n            name: 'year',\n            attributes: { 'iso-8601-date': String(year) },\n            elements: [{ type: 'text', text: String(year) }],\n        });\n    }\n    if (data.DOI) {\n        elements.push({\n            type: 'element',\n            name: 'pub-id',\n            attributes: { 'pub-id-type': 'doi' },\n            elements: [{ type: 'text', text: data.DOI }],\n        });\n    }\n    if (data.volume) {\n        elements.push({\n            type: 'element',\n            name: 'volume',\n            elements: [{ type: 'text', text: data.volume }],\n        });\n    }\n    if (data.issue) {\n        elements.push({\n            type: 'element',\n            name: 'issue',\n            elements: [{ type: 'text', text: data.issue }],\n        });\n    }\n    if (data.page) {\n        const [firstPage, lastPage] = data.page.split('-');\n        if (firstPage) {\n            elements.push({\n                type: 'element',\n                name: 'fpage',\n                elements: [{ type: 'text', text: firstPage }],\n            });\n        }\n        if (lastPage) {\n            elements.push({\n                type: 'element',\n                name: 'lpage',\n                elements: [{ type: 'text', text: lastPage }],\n            });\n        }\n    }\n    if (data.ISSN) {\n        elements.push({\n            type: 'element',\n            name: 'issn',\n            elements: [{ type: 'text', text: data.ISSN }],\n        });\n    }\n    return {\n        type: 'element',\n        name: 'ref',\n        attributes: { id: key },\n        elements: [\n            {\n                type: 'element',\n                name: 'element-citation',\n                attributes: { 'publication-type': publicationType },\n                elements,\n            },\n        ],\n    };\n}\nexport function getRefList(citations) {\n    if (!citations || !Object.keys(citations).length)\n        return [];\n    const elements = Object.keys(citations)\n        .sort()\n        .map((key) => {\n        return citeToJatsRef(key, citations[key].cite);\n    });\n    return [{ type: 'element', name: 'ref-list', elements }];\n}\nexport function getFootnotes(footnotes) {\n    if (!(footnotes === null || footnotes === void 0 ? void 0 : footnotes.length))\n        return [];\n    return [{ type: 'element', name: 'fn-group', elements: footnotes }];\n}\nexport function getBack(citations, footnotes) {\n    const elements = [\n        ...getRefList(citations),\n        ...getFootnotes(footnotes),\n        // ack\n        // app-group\n        // bio\n        // glossary\n        // notes\n    ];\n    if (!elements.length)\n        return null;\n    return { type: 'element', name: 'back', elements };\n}\n", "export function getJournalIds() {\n    // [{ type: 'element', name: 'journal-id', attributes: {'journal-id-type': ...}, text: ...}]\n    return [];\n}\nexport function getJournalTitleGroup() {\n    const elements = [];\n    // { type: 'element', name: 'journal-title', text: ...}\n    // { type: 'element', name: 'journal-subtitle', text: ...}\n    // translated title group?\n    // abbreviated journal title?\n    return elements.length ? [{ type: 'element', name: 'journal-title-group', elements }] : [];\n}\nexport function getJournalAffiliations() {\n    // contrib-group, aff, aff-alternatives\n    return [];\n}\nexport function getJournalISNs() {\n    // issn, issn-l, isbn...\n    return [];\n}\nexport function getJournalPublisher() {\n    // publisher name, publisher loc\n    return [];\n}\nexport function getJournalMeta() {\n    const elements = [\n        ...getJournalIds(),\n        ...getJournalTitleGroup(),\n        ...getJournalAffiliations(),\n        ...getJournalISNs(),\n        ...getJournalPublisher(),\n        // notes\n        // self-url\n    ];\n    return elements.length ? [{ type: 'element', name: 'journal-meta', elements }] : [];\n}\n/**\n * Add a article `title-group`, for example:\n *\n * ```xml\n * <title-group>\n *   <article-title>\n *     Systematic review of day hospital care for elderly people\n *   </article-title>\n * </title-group>\n * ```\n *\n * See: https://jats.nlm.nih.gov/archiving/tag-library/1.3/element/article-title.html\n */\nexport function getArticleTitle(frontmatter) {\n    const title = frontmatter === null || frontmatter === void 0 ? void 0 : frontmatter.title;\n    const subtitle = frontmatter === null || frontmatter === void 0 ? void 0 : frontmatter.subtitle;\n    if (!title && !subtitle)\n        return [];\n    const articleTitle = title\n        ? [\n            {\n                type: 'element',\n                name: 'article-title',\n                elements: [{ type: 'text', text: title }],\n            },\n        ]\n        : [];\n    const articleSubtitle = subtitle\n        ? [\n            {\n                type: 'element',\n                name: 'subtitle',\n                elements: [{ type: 'text', text: subtitle }],\n            },\n        ]\n        : [];\n    return [\n        {\n            type: 'element',\n            name: 'title-group',\n            elements: [...articleTitle, ...articleSubtitle],\n        },\n    ];\n}\nexport function getArticleAuthors(frontmatter) {\n    var _a;\n    // For now this just uses affiliations directly on each <contrib>, as they are defined in ProjectFrontmatter.\n    // This should be changed to deduplicate / improve affiliations in frontmatter.\n    // contrib-group, aff, aff-alternatives, x\n    const contribs = (_a = frontmatter.authors) === null || _a === void 0 ? void 0 : _a.map((author) => {\n        const attributes = {};\n        const elements = [];\n        attributes['contrib-type'] = 'author';\n        if (author.orcid) {\n            elements.push({\n                type: 'element',\n                name: 'contrib-id',\n                attributes: { 'contrib-id-type': 'orcid' },\n                elements: [{ type: 'text', text: author.orcid }],\n            });\n        }\n        if (author.corresponding)\n            attributes.corresp = 'yes';\n        if (author.name) {\n            elements.push({\n                type: 'element',\n                name: 'string-name',\n                elements: [{ type: 'text', text: author.name }],\n            });\n        }\n        if (author.roles) {\n            elements.push(...author.roles.map((role) => {\n                return {\n                    type: 'element',\n                    name: 'role',\n                    attributes: {\n                        vocab: 'CRediT',\n                        'vocab-identifier': 'http://credit.niso.org/',\n                        'vocab-term': `${role}`,\n                    },\n                    elements: [{ type: 'text', text: role }],\n                };\n            }));\n        }\n        if (author.affiliations) {\n            elements.push(...author.affiliations.map((aff) => {\n                return {\n                    type: 'element',\n                    name: 'aff',\n                    elements: [\n                        {\n                            type: 'element',\n                            name: 'institution',\n                            elements: [{ type: 'text', text: aff }],\n                        },\n                    ],\n                };\n            }));\n        }\n        if (author.email) {\n            elements.push({\n                type: 'element',\n                name: 'email',\n                elements: [{ type: 'text', text: author.email }],\n            });\n        }\n        if (author.website) {\n            elements.push({\n                type: 'element',\n                name: 'ext-link',\n                attributes: { 'ext-link-type': 'uri', 'xlink:href': author.website },\n                elements: [{ type: 'text', text: author.website }],\n            });\n        }\n        return { type: 'element', name: 'contrib', attributes, elements };\n    });\n    return contribs !== null && contribs !== void 0 ? contribs : [];\n}\nexport function getArticlePermissions(frontmatter) {\n    var _a, _b, _c, _d, _e;\n    // copyright-statement, -year, -holder\n    const text = (_c = (_b = (_a = frontmatter.license) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b.url) !== null && _c !== void 0 ? _c : (_e = (_d = frontmatter.license) === null || _d === void 0 ? void 0 : _d.code) === null || _e === void 0 ? void 0 : _e.url;\n    // Add `<ali:free_to_read />` to the permissions\n    const freeToRead = frontmatter.open_access\n        ? [{ type: 'element', name: 'ali:free_to_read' }]\n        : [];\n    return text\n        ? [\n            {\n                type: 'element',\n                name: 'permissions',\n                elements: [\n                    ...freeToRead,\n                    {\n                        type: 'element',\n                        name: 'license',\n                        elements: [\n                            {\n                                type: 'element',\n                                name: 'ali:license_ref',\n                                elements: [{ type: 'text', text }],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ]\n        : [];\n}\nexport function getArticleVolume(frontmatter) {\n    var _a;\n    const text = (_a = frontmatter.biblio) === null || _a === void 0 ? void 0 : _a.volume;\n    return text\n        ? [{ type: 'element', name: 'volume', elements: [{ type: 'text', text: `${text}` }] }]\n        : [];\n}\nexport function getArticleIssue(frontmatter) {\n    var _a;\n    const text = (_a = frontmatter.biblio) === null || _a === void 0 ? void 0 : _a.issue;\n    return text\n        ? [{ type: 'element', name: 'issue', elements: [{ type: 'text', text: `${text}` }] }]\n        : [];\n}\nexport function getArticlePages(frontmatter) {\n    var _a;\n    // fpage/lpage, page-range, or elocation-id\n    const { first_page, last_page } = (_a = frontmatter.biblio) !== null && _a !== void 0 ? _a : {};\n    const pages = [];\n    if (first_page)\n        pages.push({\n            type: 'element',\n            name: 'fpage',\n            elements: [{ type: 'text', text: `${first_page}` }],\n        });\n    if (last_page)\n        pages.push({\n            type: 'element',\n            name: 'lpage',\n            elements: [{ type: 'text', text: `${last_page}` }],\n        });\n    return pages;\n}\nexport function getArticleMeta(frontmatter) {\n    const elements = [\n        // article-id\n        // article-version, article-version-alternatives\n        // article-categories\n        ...getArticleTitle(frontmatter),\n        ...getArticleAuthors(frontmatter),\n        // author-notes\n        // pub-date or pub-date-not-available\n        ...getArticleVolume(frontmatter),\n        // volume-id\n        // volume-series\n        ...getArticleIssue(frontmatter),\n        // issue-id\n        // issue-title\n        // issue-title-group\n        // issue-sponsor\n        // issue-part\n        // volume-issue-group\n        // isbn\n        // supplement\n        ...getArticlePages(frontmatter),\n        // email, ext-link, uri, product, supplementary-material\n        // history\n        // pub-history\n        ...getArticlePermissions(frontmatter),\n        // self-uri\n        // related-article, related-object\n        // abstract\n        // trans-abstract\n        // kwd-group\n        // funding-group\n        // support-group\n        // conference\n        // counts\n    ];\n    return elements.length ? [{ type: 'element', name: 'article-meta', elements }] : [];\n}\nexport function getFront(frontmatter) {\n    if (!frontmatter)\n        return null;\n    const elements = [...getJournalMeta(), ...getArticleMeta(frontmatter)];\n    if (!elements.length)\n        return null;\n    return { type: 'element', name: 'front', elements };\n}\n", "import { selectAll } from 'unist-util-select';\nexport function definitionTransform(mdast) {\n    const defList = selectAll('definitionList', mdast);\n    defList.forEach((node) => {\n        const children = [];\n        let current = undefined;\n        function pushItem() {\n            if (current && current.children.length > 0) {\n                children.push(current);\n            }\n            current = { type: 'definitionItem', children: [] };\n        }\n        node.children.forEach((child) => {\n            if (child.type === 'definitionTerm' || !current) {\n                pushItem();\n            }\n            current === null || current === void 0 ? void 0 : current.children.push(child);\n        });\n        pushItem();\n        node.children = children;\n    });\n}\nexport const definitionPlugin = () => (tree) => {\n    definitionTransform(tree);\n};\n", "import { select, selectAll } from 'unist-util-select';\nimport { remove } from 'unist-util-remove';\nfunction liftCaptionNumber(container) {\n    // TODO: this won't work for multi-panel figures?\n    const caption = select('caption', container);\n    const captionNumber = select('captionNumber', container);\n    if (caption)\n        remove(caption, 'captionNumber');\n    if (captionNumber)\n        container.children.splice(0, 0, captionNumber);\n}\nexport function containerTransform(mdast) {\n    const figures = selectAll('container', mdast);\n    figures.forEach((container) => {\n        liftCaptionNumber(container);\n        if (container.kind === 'quote') {\n            const caption = select('caption > paragraph', container);\n            const blockquote = select('blockquote', container);\n            if (blockquote && caption) {\n                const newContainer = container;\n                newContainer.type = 'blockquote';\n                newContainer.children = blockquote.children;\n                caption.type = 'attrib'; // Change the caption to attribution for JATS\n                newContainer.children.push(caption);\n            }\n        }\n    });\n}\nexport const containerPlugin = () => (tree) => {\n    containerTransform(tree);\n};\n", "import { selectAll } from 'unist-util-select';\nexport function tableTransform(mdast) {\n    const tables = selectAll('table', mdast);\n    tables.forEach((table) => {\n        const head = { type: 'tableHead', children: [] };\n        const body = { type: 'tableBody', children: [] };\n        table.children.forEach((tr) => {\n            const isHeaderRow = tr.children.reduce((h, v) => h && !!v.header, true);\n            if (isHeaderRow && body.children.length === 0) {\n                head.children.push(tr);\n            }\n            else {\n                body.children.push(tr);\n            }\n        });\n        table.children = head.children.length > 0 ? [head, body] : [body];\n    });\n}\nexport const tablePlugin = () => (tree) => {\n    tableTransform(tree);\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { liftChildren } from 'myst-common';\nexport function sectionTransform(tree) {\n    liftChildren(tree, 'block'); // this looses part information\n    const children = [];\n    let current = undefined;\n    function push(child) {\n        if (current) {\n            current.children.push(child);\n        }\n        else {\n            children.push(child);\n        }\n    }\n    function newSection(heading) {\n        const { enumerator, enumerated } = heading, filtered = __rest(heading, [\"enumerator\", \"enumerated\"]);\n        if (current && current.depth < heading.depth) {\n            // Nest the section\n            const next = Object.assign(Object.assign({}, filtered), { type: 'section', children: [] });\n            push(next);\n            current = next;\n            return { enumerator, enumerated };\n        }\n        current = Object.assign(Object.assign({}, filtered), { type: 'section', children: [] });\n        children.push(current);\n        return { enumerator, enumerated };\n    }\n    tree.children.forEach((child) => {\n        if (child.type === 'heading') {\n            const { enumerator, enumerated } = newSection(child);\n            push({ type: 'heading', enumerator, enumerated, children: child.children });\n        }\n        else {\n            push(child);\n        }\n    });\n    tree.children = children;\n}\nexport const sectionPlugin = () => (tree) => {\n    sectionTransform(tree);\n};\n", "import { selectAll } from 'unist-util-select';\n/**\n * Add parentheses and separator text to citeGroup nodes as children\n *\n * This allows us to simply render children and get all the correct formatting.\n */\nexport function citeGroupTransform(mdast) {\n    const citeGroups = selectAll('citeGroup', mdast);\n    citeGroups.forEach((node) => {\n        // Only run this transform if:\n        // - there are children on the citeGroup and\n        // - all citeGroup children are cite nodes\n        if (!node.children.length || node.children.filter((child) => child.type !== 'cite').length) {\n            return;\n        }\n        const { kind } = node;\n        node.children.forEach((child) => {\n            child.kind = kind;\n        });\n        const newChildren = [];\n        if (kind === 'parenthetical') {\n            newChildren.push({\n                type: 'text',\n                value: '(',\n            });\n        }\n        newChildren.push(node.children[0]);\n        const sep = kind === 'parenthetical' ? ';' : ',';\n        node.children.slice(1).forEach((child) => {\n            newChildren.push({\n                type: 'text',\n                value: `${sep} `,\n            }, child);\n        });\n        if (kind === 'parenthetical') {\n            newChildren.push({\n                type: 'text',\n                value: ')',\n            });\n        }\n        node.children = newChildren;\n    });\n}\nexport const citeGroupPlugin = () => (tree) => {\n    citeGroupTransform(tree);\n};\n", "import { definitionTransform } from './definitions';\nimport { containerTransform } from './containers';\nimport { tableTransform } from './tables';\nimport { sectionTransform } from './sections';\nimport { citeGroupTransform } from './citations';\nexport { definitionTransform, definitionPlugin } from './definitions';\nexport { containerTransform, containerPlugin } from './containers';\nexport { tableTransform, tablePlugin } from './tables';\nexport { sectionTransform, sectionPlugin } from './sections';\nexport function basicTransformations(tree) {\n    definitionTransform(tree);\n    containerTransform(tree);\n    tableTransform(tree);\n    sectionTransform(tree);\n    citeGroupTransform(tree);\n}\nexport const basicTransformationsPlugin = () => (tree) => {\n    basicTransformations(tree);\n};\n"],
  "mappings": "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",
  "names": ["listeners", "domain", "keys", "Buffer", "Buffer", "prependListener", "listenerCount", "onend", "Buffer", "onend", "emit", "Stream", "s", "xml2js", "js2xml", "xml2js", "js2xml", "import_xml_js", "Tags", "RefType"]
}
